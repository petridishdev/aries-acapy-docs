<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-demo/AliceWantsAJsonCredential">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">How to Issue JSON-LD Credentials using Aca-py | Aries Cloud Agent Python (ACA-Py)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hyperledger.github.io/aries-acapy-docs/demo/AliceWantsAJsonCredential"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to Issue JSON-LD Credentials using Aca-py | Aries Cloud Agent Python (ACA-Py)"><meta data-rh="true" name="description" content="Aca-py has the capability to issue and verify both Indy and JSON-LD (W3C compliant) credentials."><meta data-rh="true" property="og:description" content="Aca-py has the capability to issue and verify both Indy and JSON-LD (W3C compliant) credentials."><link data-rh="true" rel="icon" href="/aries-acapy-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hyperledger.github.io/aries-acapy-docs/demo/AliceWantsAJsonCredential"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/aries-acapy-docs/demo/AliceWantsAJsonCredential" hreflang="en"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/aries-acapy-docs/demo/AliceWantsAJsonCredential" hreflang="x-default"><link rel="stylesheet" href="/aries-acapy-docs/assets/css/styles.4ae0b40d.css">
<link rel="preload" href="/aries-acapy-docs/assets/js/runtime~main.55efbebf.js" as="script">
<link rel="preload" href="/aries-acapy-docs/assets/js/main.f211ac65.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/aries-acapy-docs/"><div class="navbar__logo"><img src="/aries-acapy-docs/img/aries-logo.png" alt="ACA-Py" class="themedImage_ToTc themedImage--light_HNdA"><img src="/aries-acapy-docs/img/aries-logo.png" alt="ACA-Py" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Aries Cloud Agent Python</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/docs/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/code/">Code</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/demo/">Demo</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hyperledger/aries-acapy-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/aries-acapy-docs/admin/CHANGELOG">Admin</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/code/">Code</a><button aria-label="Toggle the collapsible sidebar category &#x27;Code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/aries-acapy-docs/demo/">Aries Cloud Agent Python (ACA-Py) Demos</a><button aria-label="Toggle the collapsible sidebar category &#x27;Aries Cloud Agent Python (ACA-Py) Demos&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/AcmeDemoWorkshop">Acme Controller Workshop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/AgentTracing">Using Tracing in ACA-PY</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/AliceGetsAPhone">Alice Gets a Mobile Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/aries-acapy-docs/demo/AliceWantsAJsonCredential">How to Issue JSON-LD Credentials using Aca-py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/AriesOpenAPIDemo">Aries OpenAPI Demo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/Endorser">Endorser Demo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/INTEGRATION-TESTS">Integration Tests for Aca-py using Behave</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/developer/">Becoming an Indy/Aries Developer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Becoming an Indy/Aries Developer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/docs/">Hyperledger Aries Cloud Agent - Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hyperledger Aries Cloud Agent - Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/aries-acapy-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/aries-acapy-docs/demo/"><span itemprop="name">Aries Cloud Agent Python (ACA-Py) Demos</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">How to Issue JSON-LD Credentials using Aca-py</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>How to Issue JSON-LD Credentials using Aca-py</h1><p>Aca-py has the capability to issue and verify both Indy and JSON-LD (W3C compliant) credentials.</p><p>The JSON-LD support is documented <a href="/aries-acapy-docs/JsonLdCredentials.md">here</a> - this document will provide some additional detail in how to use the demo and admin api to issue and prove JSON-LD credentials.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-agents-to-issue-jdon-ld-credentials">Setup Agents to Issue JDON-LD Credentials<a href="#setup-agents-to-issue-jdon-ld-credentials" class="hash-link" aria-label="Direct link to Setup Agents to Issue JDON-LD Credentials" title="Direct link to Setup Agents to Issue JDON-LD Credentials">​</a></h2><p>Clone this repository to a directory on your local:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/hyperledger/aries-cloudagent-python.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> aries-cloudagent-python/demo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Open up a second shell (so you have 2 shells open in the <code>demo</code> directory) and in one shell:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_demo faber --did-exchange --aip </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> --cred-type json-ld</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>... and in the other:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_demo alice</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that you start the <code>faber</code> agent with AIP2.0 options. (When you specify <code>--cred-type json-ld</code> faber will set aip to <code>20</code> automatically, so the <code>--aip</code> option is not strictly required.)</p><p>Also note that the above will only work with the <code>/issue-credential-2.0/create-offer</code> endpoint. If you want to use the <code>/issue-credential-2.0/send</code> endpoint - which automates each step of the credential exchange - you will need to include the <code>--no-auto</code> option when starting each of the alice and faber agents (since the alice and faber controllers <em>also</em> automatically respond to each step in the credential exchange).</p><p>(Alternately you can run run Alice and Faber agents locally, see the <code>./faber-local.sh</code> and <code>./alice-local.sh</code> scripts in the <code>demo</code> directory.)</p><p>Copy the &quot;invitation&quot; json text from the Faber shell and paste into the Alice shell to establish a connection between the two agents.</p><p>(If you are running with <code>--no-auto</code> you will also need to call the <code>/connections/{conn_id}/accept-invitation</code> endpoint in alice&#x27;s admin api swagger page.)</p><p>Now open up two browser windows to the <a href="http://localhost:8021/api/doc" target="_blank" rel="noopener noreferrer">Faber</a> and <a href="http://localhost:8031/api/doc" target="_blank" rel="noopener noreferrer">Alice</a> admin api swagger pages.</p><p>Using the Faber admin api, you have to create a DID with the appropriate:</p><ul><li>DID method (&quot;key&quot; or &quot;sov&quot;)</li><li>key type &quot;ed25519&quot; or &quot;bls12381g2&quot; (corresponding to signature types &quot;Ed25519Signature2018&quot; or &quot;BbsBlsSignature2020&quot;)</li><li>if you use DID method &quot;sov&quot; you must use key type &quot;ed25519&quot;</li></ul><p>Note that &quot;did:sov&quot; must be a public DID (i.e. registered on the ledger) but &quot;did:key&quot; is not.</p><p>For example, in Faber&#x27;s swagger page call the <code>/wallet/did/create</code> endpoint with the following payload:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;method&quot;: &quot;key&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;options&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;key_type&quot;: &quot;bls12381g2&quot; // or ed25519</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will return something like:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;did&quot;: &quot;did:key:zUC71KdwBhq1FioWh53VXmyFiGpewNcg8Ld42WrSChpMzzskRWwHZfG9TJ7hPj8wzmKNrek3rW4ZkXNiHAjVchSmTr9aNUQaArK3KSkTySzjEM73FuDV62bjdAHF7EMnZ27poCE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;verkey&quot;: &quot;mV6482Amu6wJH8NeMqH3QyTjh6JU6N58A8GcirMZG7Wx1uyerzrzerA2EjnhUTmjiSLAp6CkNdpkLJ1NTS73dtcra8WUDDBZ3o455EMrkPyAtzst16RdTMsGe3ctyTxxJav&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;posture&quot;: &quot;wallet_only&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;key_type&quot;: &quot;bls12381g2&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;method&quot;: &quot;key&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You do <em>not</em> create a schema or cred def for a JSON-LD credential (these are only required for &quot;indy&quot; credentials).</p><p>You will need to create a DID as above for Alice as well (<code>/wallet/did/create</code> etc ...).</p><p>Congradulations, you are now ready to start issuing JSON-LD credentials!</p><ul><li>You have two agents with a connection established between the agents - you will need to copy Faber&#x27;s <code>connection_id</code> into the examples below.</li><li>You have created a (non-public) DID for Faber to use to sign/issue the credentials - you will need to copy the DID that you created above into the examples below (as <code>issuer</code>).</li><li>You have created a (non-public) DID for Alice to use as her <code>credentialSubject.id</code> - this is required for Alice to sign the proof (the <code>credentialSubject.id</code> is not required, but then the provided presentation can&#x27;t be verified).</li></ul><p>To issue a credential, use the <code>/issue-credential-2.0/send-offer</code> endpoint. (You can also use the <code>/issue-credential-2.0/send</code>) endpoint, if, as mentioned above, you have included the <code>--no-auto</code> when starting both of the agents.)</p><p>You can test with this example payload (just replace the &quot;connection_id&quot;, &quot;issuer&quot; key, &quot;credentialSubject.id&quot; and &quot;proofType&quot; with appropriate values:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;connection_id&quot;: &quot;4fba2ce5-b411-4ecf-aa1b-ec66f3f6c903&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;filter&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ld_proof&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;credential&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;@context&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;https://www.w3.org/2018/credentials/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;https://www.w3.org/2018/credentials/examples/v1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: [&quot;VerifiableCredential&quot;, &quot;UniversityDegreeCredential&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;issuer&quot;: &quot;did:key:zUC71KdwBhq1FioWh53VXmyFiGpewNcg8Ld42WrSChpMzzskRWwHZfG9TJ7hPj8wzmKNrek3rW4ZkXNiHAjVchSmTr9aNUQaArK3KSkTySzjEM73FuDV62bjdAHF7EMnZ27poCE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;issuanceDate&quot;: &quot;2020-01-01T12:00:00Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;credentialSubject&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;id&quot;: &quot;did:key:aksdkajshdkajhsdkjahsdkjahsdj&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;givenName&quot;: &quot;Sally&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;familyName&quot;: &quot;Student&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;degree&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;: &quot;BachelorDegree&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;degreeType&quot;: &quot;Undergraduate&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;Bachelor of Science and Arts&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;college&quot;: &quot;Faber College&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;options&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;proofType&quot;: &quot;BbsBlsSignature2020&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that if you have the &quot;auto&quot; settings on, this is all you need to do. Otherwise you need to call the <code>/send-request</code>, <code>/store</code>, etc endpoints to complete the protocol.</p><p>To see the issued credential, call the <code>/credentials/w3c</code> endpoint on Alice&#x27;s admin api - this will return something like:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;results&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;contexts&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;https://w3id.org/security/bbs/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;https://www.w3.org/2018/credentials/examples/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;https://www.w3.org/2018/credentials/v1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;types&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;UniversityDegreeCredential&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;VerifiableCredential&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;schema_ids&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;issuer_id&quot;: &quot;did:key:zUC71KdwBhq1FioWh53VXmyFiGpewNcg8Ld42WrSChpMzzskRWwHZfG9TJ7hPj8wzmKNrek3rW4ZkXNiHAjVchSmTr9aNUQaArK3KSkTySzjEM73FuDV62bjdAHF7EMnZ27poCE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;subject_ids&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;proof_types&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;BbsBlsSignature2020&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cred_value&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;@context&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;https://www.w3.org/2018/credentials/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;https://www.w3.org/2018/credentials/examples/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;https://w3id.org/security/bbs/v1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;VerifiableCredential&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;UniversityDegreeCredential&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;issuer&quot;: &quot;did:key:zUC71Kd...poCE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;issuanceDate&quot;: &quot;2020-01-01T12:00:00Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;credentialSubject&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;id&quot;: &quot;did:key:aksdkajshdkajhsdkjahsdkjahsdj&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;givenName&quot;: &quot;Sally&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;familyName&quot;: &quot;Student&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;degree&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;: &quot;BachelorDegree&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;degreeType&quot;: &quot;Undergraduate&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;Bachelor of Science and Arts&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;college&quot;: &quot;Faber College&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;proof&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;type&quot;: &quot;BbsBlsSignature2020&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;proofPurpose&quot;: &quot;assertionMethod&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;verificationMethod&quot;: &quot;did:key:zUC71Kd...poCE#zUC71Kd...poCE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;created&quot;: &quot;2021-05-19T16:19:44.458170&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;proofValue&quot;: &quot;g0weLyw2Q+niQ4pGfiXB...tL9C9ORhy9Q==&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cred_tags&quot;: {},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;record_id&quot;: &quot;365ab87b12f74b2db784fdd4db8419f5&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you <em>don&#x27;t</em> see the credential in your wallet, look up the credential exchange record (in alice&#x27;s admin api - <code>/issue-credential-2.0/records</code>) and check the state. If the state is <code>credential-received</code>, then the credential has been received but not stored, in this case just call the <code>/store</code> endpoint for this credential exchange.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-more-realistic-json-ld-credentials">Building More Realistic JSON-LD Credentials<a href="#building-more-realistic-json-ld-credentials" class="hash-link" aria-label="Direct link to Building More Realistic JSON-LD Credentials" title="Direct link to Building More Realistic JSON-LD Credentials">​</a></h2><p>The above example uses the &quot;<a href="https://www.w3.org/2018/credentials/examples/v1%22" target="_blank" rel="noopener noreferrer">https://www.w3.org/2018/credentials/examples/v1&quot;</a> context, which should never be used in a real application.</p><p>To build credentials in real life, you first determine which attributes you need and then include the appropriate contexts.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="context-schemaorg">Context schema.org<a href="#context-schemaorg" class="hash-link" aria-label="Direct link to Context schema.org" title="Direct link to Context schema.org">​</a></h3><p>You can use attributes defined on <a href="https://schema.org" target="_blank" rel="noopener noreferrer">schema.org</a>. Although this is <em>NOT RECOMMENDED</em> (included here for illustrative purposes only) - individual attributes can&#x27;t be validated (see the comment later on).</p><p>You first include <code>https://schema.org</code> in the <code>@context</code> block of the credential as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;@context&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;https://www.w3.org/2018/credentials/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;https://schema.org&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">],</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then you review the <a href="https://schema.org/docs/schemas.html" target="_blank" rel="noopener noreferrer">attributes and objects defined by <code>https://schema.org</code></a> and decide what you need to include in your credential.</p><p>For example to issue a credetial with <a href="https://schema.org/givenName" target="_blank" rel="noopener noreferrer">givenName</a>, <a href="https://schema.org/familyName" target="_blank" rel="noopener noreferrer">familyName</a> and <a href="https://schema.org/alumniOf" target="_blank" rel="noopener noreferrer">alumniOf</a> attributes, submit the following:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;connection_id&quot;: &quot;ad35a4d8-c84b-4a4f-a83f-1afbf134b8b9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;filter&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ld_proof&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;credential&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;@context&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;https://www.w3.org/2018/credentials/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;https://schema.org&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: [&quot;VerifiableCredential&quot;, &quot;Person&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;issuer&quot;: &quot;did:key:zUC71pj2gpDLfcZ9DE1bMtjZGWCSLhkQsUCaKjqXtCftGkz27894pEX9VvGNiFsaV67gqv2TEPQ2aDaDDdTDNp42LfDdK1LaWSBCfzsQEyaiR1zjZm1RtoRu1ZM6v6vz4TiqDgU&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;issuanceDate&quot;: &quot;2020-01-01T12:00:00Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;credentialSubject&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;id&quot;: &quot;did:key:aksdkajshdkajhsdkjahsdkjahsdj&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;givenName&quot;: &quot;Sally&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;familyName&quot;: &quot;Student&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;alumniOf&quot;: &quot;Example University&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;options&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;proofType&quot;: &quot;BbsBlsSignature2020&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that with <code>https://schema.org</code>, if you include attributes that aren&#x27;t defined by <em>any</em> context, you will <em>not</em> get an error. For example you can try replacing the <code>credentialSubject</code> in the above with:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;credentialSubject&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: &quot;did:key:aksdkajshdkajhsdkjahsdkjahsdj&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;givenName&quot;: &quot;Sally&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;familyName&quot;: &quot;Student&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;alumniOf&quot;: &quot;Example University&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;someUndefinedAttribute&quot;: &quot;the value of the attribute&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>... and the credential issuance <em>should</em> fail, however <code>https://schema.org</code> defines a <code>@vocab</code> that by default all terms derive from (<a href="https://stackoverflow.com/questions/30945898/what-is-the-use-of-vocab-in-json-ld-and-what-is-the-difference-to-context/30948037#30948037" target="_blank" rel="noopener noreferrer">see here</a>).</p><p>You can include more complex schemas, for example to use the schema.org <a href="https://schema.org/Person" target="_blank" rel="noopener noreferrer">Person</a> schema (which includes <code>givenName</code> and <code>familyName</code>):</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;connection_id&quot;: &quot;ad35a4d8-c84b-4a4f-a83f-1afbf134b8b9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;filter&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ld_proof&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;credential&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;@context&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;https://www.w3.org/2018/credentials/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;https://schema.org&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: [&quot;VerifiableCredential&quot;, &quot;Person&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;issuer&quot;: &quot;did:key:zUC71pj2gpDLfcZ9DE1bMtjZGWCSLhkQsUCaKjqXtCftGkz27894pEX9VvGNiFsaV67gqv2TEPQ2aDaDDdTDNp42LfDdK1LaWSBCfzsQEyaiR1zjZm1RtoRu1ZM6v6vz4TiqDgU&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;issuanceDate&quot;: &quot;2020-01-01T12:00:00Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;credentialSubject&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;id&quot;: &quot;did:key:aksdkajshdkajhsdkjahsdkjahsdj&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;student&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;: &quot;Person&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;givenName&quot;: &quot;Sally&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;familyName&quot;: &quot;Student&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;alumniOf&quot;: &quot;Example University&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;options&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;proofType&quot;: &quot;BbsBlsSignature2020&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="credential-specific-contexts">Credential-Specific Contexts<a href="#credential-specific-contexts" class="hash-link" aria-label="Direct link to Credential-Specific Contexts" title="Direct link to Credential-Specific Contexts">​</a></h2><p>The recommended approach to defining credentials is to define a credential-specific vocaublary (or make use of existing ones). (Note that these can include references to <code>https://schema.org</code>, you just shouldn&#x27;t uste this directly in your credential.)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="credential-issue-example">Credential Issue Example<a href="#credential-issue-example" class="hash-link" aria-label="Direct link to Credential Issue Example" title="Direct link to Credential Issue Example">​</a></h3><p>The following example uses the W3C citizenship context to issue a PermanentResident credential (replace the <code>connection_id</code>, <code>issuer</code> and <code>credentialSubject.id</code> with your local values):</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;connection_id&quot;: &quot;41acd909-9f45-4c69-8641-8146e0444a57&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;filter&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ld_proof&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;credential&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;@context&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;https://www.w3.org/2018/credentials/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;https://w3id.org/citizenship/v1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;type&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;VerifiableCredential&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;PermanentResident&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;id&quot;: &quot;https://credential.example.com/residents/1234567890&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;issuer&quot;: &quot;did:key:zUC7Dus47jW5Avcne8LLsUvJSdwspmErgehxMWqZZy8eSSNoHZ4x8wgs77sAmQtCADED5RQP1WWhvt7KFNm6GGMxdSGpKu3PX6R9a61G9VoVsiFoRf1yoK6pzhq9jtFP3e2SmU9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;issuanceDate&quot;: &quot;2020-01-01T12:00:00Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;credentialSubject&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;type&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;PermanentResident&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;id&quot;: &quot;did:key:zUC7CXi82AXbkv4SvhxDxoufrLwQSAo79qbKiw7omCQ3c4TyciDdb9s3GTCbMvsDruSLZX6HNsjGxAr2SMLCNCCBRN5scukiZ4JV9FDPg5gccdqE9nfCU2zUcdyqRiUVnn9ZH83&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;givenName&quot;: &quot;ALICE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;familyName&quot;: &quot;SMITH&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;gender&quot;: &quot;Female&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;birthCountry&quot;: &quot;Bahamas&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;birthDate&quot;: &quot;1958-07-17&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;options&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;proofType&quot;: &quot;BbsBlsSignature2020&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Copy and paste this content into Faber&#x27;s <code>/issue-credential-2.0/send-offer</code> endpoint, and it will kick off the exchange process to issue a W3C credential to Alice.</p><p>In Alice&#x27;s swagger page, submit the <code>/credentials/records/w3c</code> endpoint to see the issued credential.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-presentation-example">Request Presentation Example<a href="#request-presentation-example" class="hash-link" aria-label="Direct link to Request Presentation Example" title="Direct link to Request Presentation Example">​</a></h3><p>To request a proof, submit the following (with appropriate <code>connection_id</code>) to Faber&#x27;s <code>/present-proof-2.0/send-request</code> endpoint:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;comment&quot;: &quot;string&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;connection_id&quot;: &quot;41acd909-9f45-4c69-8641-8146e0444a57&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;presentation_request&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;dif&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;options&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;challenge&quot;: &quot;3fa85f64-5717-4562-b3fc-2c963f66afa7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;domain&quot;: &quot;4jt78h47fh47&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;presentation_definition&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;id&quot;: &quot;32f54163-7166-48f1-93d8-ff217bdb0654&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;format&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;ldp_vp&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;proof_type&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;BbsBlsSignature2020&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;input_descriptors&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;id&quot;: &quot;citizenship_input_1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;name&quot;: &quot;EU Driver&#x27;s License&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;schema&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                &quot;uri&quot;: &quot;https://www.w3.org/2018/credentials#VerifiableCredential&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                &quot;uri&quot;: &quot;https://w3id.org/citizenship#PermanentResident&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;constraints&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;limit_disclosure&quot;: &quot;required&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;is_holder&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;directive&quot;: &quot;required&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;field_id&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        &quot;1f44d55f-f161-4938-a659-f8026467f126&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;fields&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;id&quot;: &quot;1f44d55f-f161-4938-a659-f8026467f126&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;path&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        &quot;$.credentialSubject.familyName&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;purpose&quot;: &quot;The claim must be from one of the specified issuers&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;filter&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        &quot;const&quot;: &quot;SMITH&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;path&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        &quot;$.credentialSubject.givenName&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;purpose&quot;: &quot;The claim must be from one of the specified issuers&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that the <code>is_holder</code> property can be used by Faber to verify that the holder of credential is the same as the subject of the attribute (<code>familyName</code>). Later on, the received presentation will be signed and verifiable only if <code>is_holder</code> with <code> &quot;directive&quot;: &quot;required&quot;</code> is included in the presentation request.</p><p>There are several ways that Alice can respond with a presentation. The simplest will just tell aca-py to put the presentation together and send it to Faber - submit the following to Alice&#x27;s <code>/present-proof-2.0/records/{pres_ex_id}/send-presentation</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;dif&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are two ways that Alice can provide some constraints to tell aca-py which credential(s) to include in the presentation.</p><p>Firstly, Alice can include the received presentation request in the body to the <code>/send-presentation</code> endpoint, and can include additional constraints on the fields:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;dif&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;issuer_id&quot;: &quot;did:key:zUC7Dus47jW5Avcne8LLsUvJSdwspmErgehxMWqZZy8eSSNoHZ4x8wgs77sAmQtCADED5RQP1WWhvt7KFNm6GGMxdSGpKu3PX6R9a61G9VoVsiFoRf1yoK6pzhq9jtFP3e2SmU9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;presentation_definition&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;format&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ldp_vp&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;proof_type&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;BbsBlsSignature2020&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: &quot;32f54163-7166-48f1-93d8-ff217bdb0654&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;input_descriptors&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;id&quot;: &quot;citizenship_input_1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;name&quot;: &quot;Some kind of citizenship check&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;schema&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;uri&quot;: &quot;https://www.w3.org/2018/credentials#VerifiableCredential&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;uri&quot;: &quot;https://w3id.org/citizenship#PermanentResident&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;constraints&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;limit_disclosure&quot;: &quot;required&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;is_holder&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;directive&quot;: &quot;required&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;field_id&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;1f44d55f-f161-4938-a659-f8026467f126&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;332be361-823a-4863-b18b-c3b930c5623e&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;fields&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;id&quot;: &quot;1f44d55f-f161-4938-a659-f8026467f126&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;path&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;$.credentialSubject.familyName&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;purpose&quot;: &quot;The claim must be from one of the specified issuers&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;filter&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;const&quot;: &quot;SMITH&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;id&quot;: &quot;332be361-823a-4863-b18b-c3b930c5623e&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;path&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      &quot;$.id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;purpose&quot;: &quot;Specify the id of the credential to present&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;filter&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      &quot;const&quot;: &quot;https://credential.example.com/residents/1234567890&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note the additional constraint on <code>&quot;path&quot;: [ &quot;$.id&quot; ]</code> - this restricts the presented credential to the one with the matching <code>credential.id</code>. Any credential attributes can be used, however this presumes that the issued credentials contain a uniquely identifying attribute.</p><p>Another option is for Alice to specify the credential <code>record_id</code> - this is an internal value within aca-py:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;dif&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;issuer_id&quot;: &quot;did:key:zUC7Dus47jW5Avcne8LLsUvJSdwspmErgehxMWqZZy8eSSNoHZ4x8wgs77sAmQtCADED5RQP1WWhvt7KFNm6GGMxdSGpKu3PX6R9a61G9VoVsiFoRf1yoK6pzhq9jtFP3e2SmU9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;presentation_definition&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;format&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ldp_vp&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;proof_type&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;BbsBlsSignature2020&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: &quot;32f54163-7166-48f1-93d8-ff217bdb0654&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;input_descriptors&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;id&quot;: &quot;citizenship_input_1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;name&quot;: &quot;Some kind of citizenship check&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;schema&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;uri&quot;: &quot;https://www.w3.org/2018/credentials#VerifiableCredential&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;uri&quot;: &quot;https://w3id.org/citizenship#PermanentResident&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;constraints&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;limit_disclosure&quot;: &quot;required&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;fields&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;path&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;$.credentialSubject.familyName&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;purpose&quot;: &quot;The claim must be from one of the specified issuers&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;filter&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;const&quot;: &quot;SMITH&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;record_ids&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;citizenship_input_1&quot;: [ &quot;1496316f972e40cf9b46b35971182337&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="another-credential-issue-example">Another Credential Issue Example<a href="#another-credential-issue-example" class="hash-link" aria-label="Direct link to Another Credential Issue Example" title="Direct link to Another Credential Issue Example">​</a></h3><p>TBD the following credential is based on the W3C Vaccination schema:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;connection_id&quot;: &quot;ad35a4d8-c84b-4a4f-a83f-1afbf134b8b9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;filter&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ld_proof&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;credential&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;@context&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;https://www.w3.org/2018/credentials/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;https://w3id.org/vaccination/v1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: [&quot;VerifiableCredential&quot;, &quot;VaccinationCertificate&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;issuer&quot;: &quot;did:key:zUC71pj2gpDLfcZ9DE1bMtjZGWCSLhkQsUCaKjqXtCftGkz27894pEX9VvGNiFsaV67gqv2TEPQ2aDaDDdTDNp42LfDdK1LaWSBCfzsQEyaiR1zjZm1RtoRu1ZM6v6vz4TiqDgU&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;issuanceDate&quot;: &quot;2020-01-01T12:00:00Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;credentialSubject&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;id&quot;: &quot;did:key:aksdkajshdkajhsdkjahsdkjahsdj&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;: &quot;VaccinationEvent&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;batchNumber&quot;: &quot;1183738569&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;administeringCentre&quot;: &quot;MoH&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;healthProfessional&quot;: &quot;MoH&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;countryOfVaccination&quot;: &quot;NZ&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;recipient&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;type&quot;: &quot;VaccineRecipient&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;givenName&quot;: &quot;JOHN&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;familyName&quot;: &quot;SMITH&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;gender&quot;: &quot;Male&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;birthDate&quot;: &quot;1958-07-17&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;vaccine&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;type&quot;: &quot;Vaccine&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;disease&quot;: &quot;COVID-19&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;atcCode&quot;: &quot;J07BX03&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;medicinalProductName&quot;: &quot;COVID-19 Vaccine Moderna&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;marketingAuthorizationHolder&quot;: &quot;Moderna Biotech&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;options&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;proofType&quot;: &quot;BbsBlsSignature2020&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hyperledger/aries-acapy-docs/tree/main/docs/docusaurus/docs/demo/AliceWantsAJsonCredential.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/aries-acapy-docs/demo/AliceGetsAPhone"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Alice Gets a Mobile Agent</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/aries-acapy-docs/demo/AriesOpenAPIDemo"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Aries OpenAPI Demo</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup-agents-to-issue-jdon-ld-credentials" class="table-of-contents__link toc-highlight">Setup Agents to Issue JDON-LD Credentials</a></li><li><a href="#building-more-realistic-json-ld-credentials" class="table-of-contents__link toc-highlight">Building More Realistic JSON-LD Credentials</a><ul><li><a href="#context-schemaorg" class="table-of-contents__link toc-highlight">Context schema.org</a></li></ul></li><li><a href="#credential-specific-contexts" class="table-of-contents__link toc-highlight">Credential-Specific Contexts</a><ul><li><a href="#credential-issue-example" class="table-of-contents__link toc-highlight">Credential Issue Example</a></li><li><a href="#request-presentation-example" class="table-of-contents__link toc-highlight">Request Presentation Example</a></li><li><a href="#another-credential-issue-example" class="table-of-contents__link toc-highlight">Another Credential Issue Example</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/aries-acapy-docs/">ACA-Py</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/hyperledger/aries-acapy-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/aries-acapy-docs/assets/js/runtime~main.55efbebf.js"></script>
<script src="/aries-acapy-docs/assets/js/main.f211ac65.js"></script>
</body>
</html>