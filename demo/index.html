<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-demo/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Aries Cloud Agent Python (ACA-Py) Demos | Aries Cloud Agent Python (ACA-Py)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hyperledger.github.io/aries-acapy-docs/demo/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Aries Cloud Agent Python (ACA-Py) Demos | Aries Cloud Agent Python (ACA-Py)"><meta data-rh="true" name="description" content="There are several demos available for ACA-Py mostly (but not only) aimed at developers learning how to deploy an instance of the agent and an ACA-Py controller to implement an application."><meta data-rh="true" property="og:description" content="There are several demos available for ACA-Py mostly (but not only) aimed at developers learning how to deploy an instance of the agent and an ACA-Py controller to implement an application."><link data-rh="true" rel="icon" href="/aries-acapy-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hyperledger.github.io/aries-acapy-docs/demo/"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/aries-acapy-docs/demo/" hreflang="en"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/aries-acapy-docs/demo/" hreflang="x-default"><link rel="stylesheet" href="/aries-acapy-docs/assets/css/styles.4ae0b40d.css">
<link rel="preload" href="/aries-acapy-docs/assets/js/runtime~main.f368ecf0.js" as="script">
<link rel="preload" href="/aries-acapy-docs/assets/js/main.0257e31f.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/aries-acapy-docs/"><div class="navbar__logo"><img src="/aries-acapy-docs/img/aries-logo.png" alt="ACA-Py" class="themedImage_ToTc themedImage--light_HNdA"><img src="/aries-acapy-docs/img/aries-logo.png" alt="ACA-Py" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Aries Cloud Agent Python</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/docs/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/code/">Code</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/demo/">Demo</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hyperledger/aries-cloudagent-python" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/aries-acapy-docs/admin/CHANGELOG">Admin</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/code/">Code</a><button aria-label="Toggle the collapsible sidebar category &#x27;Code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" href="/aries-acapy-docs/demo/">Aries Cloud Agent Python (ACA-Py) Demos</a><button aria-label="Toggle the collapsible sidebar category &#x27;Aries Cloud Agent Python (ACA-Py) Demos&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/AcmeDemoWorkshop">Acme Controller Workshop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/AgentTracing">Using Tracing in ACA-PY</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/AliceGetsAPhone">Alice Gets a Mobile Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/AliceWantsAJsonCredential">How to Issue JSON-LD Credentials using Aca-py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/AriesOpenAPIDemo">Aries OpenAPI Demo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/Endorser">Endorser Demo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/demo/INTEGRATION-TESTS">Integration Tests for Aca-py using Behave</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/developer/">Becoming an Indy/Aries Developer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Becoming an Indy/Aries Developer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/docs/">Hyperledger Aries Cloud Agent - Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hyperledger Aries Cloud Agent - Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/aries-acapy-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Aries Cloud Agent Python (ACA-Py) Demos</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Aries Cloud Agent Python (ACA-Py) Demos </h1><p>There are several demos available for ACA-Py mostly (but not only) aimed at developers learning how to deploy an instance of the agent and an ACA-Py controller to implement an application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents--omit-in-toc-">Table of Contents <a href="#table-of-contents--omit-in-toc-" class="hash-link" aria-label="Direct link to Table of Contents " title="Direct link to Table of Contents ">​</a></h2><ul><li><a href="#the-iiwbook-demo">The IIWBook Demo</a></li><li><a href="#the-alicefaber-python-demo">The Alice/Faber Python demo</a><ul><li><a href="#running-in-a-browser">Running in a Browser</a></li><li><a href="#running-in-docker">Running in Docker</a></li><li><a href="#running-locally">Running Locally</a><ul><li><a href="#installing-prerequisites">Installing Prerequisites</a></li><li><a href="#start-a-local-indy-ledger">Start a local indy ledger</a></li><li><a href="#genesis-file-handling">Genesis File handling</a></li><li><a href="#run-a-local-postgres-instance">Run a local Postgres instance</a></li><li><a href="#optional-run-a-von-network-ledger-browser">Optional: Run a von-network ledger browser</a></li><li><a href="#run-the-alice-and-faber-controllersagents">Run the Alice and Faber Controllers/Agents</a></li></ul></li><li><a href="#follow-the-script">Follow The Script</a><ul><li><a href="#exchanging-messages">Exchanging Messages</a></li><li><a href="#issuing-and-proving-credentials">Issuing and Proving Credentials</a></li></ul></li></ul></li><li><a href="#additional-options-in-the-alicefaber-demo">Additional Options in the Alice/Faber demo</a><ul><li><a href="#revocation">Revocation</a></li><li><a href="#mediation">Mediation</a></li><li><a href="#multi-tenancy">Multi-tenancy</a></li><li><a href="#multi-ledger">Multi-ledger</a></li><li><a href="#did-exchange">DID Exchange</a></li><li><a href="#endorser">Endorser</a></li><li><a href="#run-indy-sdk-backend">Run Indy-SDK Backend</a></li></ul></li><li><a href="#learning-about-the-alicefaber-code">Learning about the Alice/Faber code</a></li><li><a href="#openapi-swagger-demo">OpenAPI (Swagger) Demo</a></li><li><a href="#performance-demo">Performance Demo</a></li><li><a href="#coding-challenge-adding-acme">Coding Challenge: Adding ACME</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-iiwbook-demo">The IIWBook Demo<a href="#the-iiwbook-demo" class="hash-link" aria-label="Direct link to The IIWBook Demo" title="Direct link to The IIWBook Demo">​</a></h2><p>The IIWBook demo is a real (play) self-sovereign identity demonstration. During the demo, you will get a mobile agent (sorry - IOS only right now), and use that agent to connect with several enterprise services to collect and prove credentials. The two services in the demo (the <a href="https://github.com/bcgov/indy-email-verification" target="_blank" rel="noopener noreferrer">email verification service</a> and <a href="https://github.com/bcgov/iiwbook" target="_blank" rel="noopener noreferrer">IIWBook</a>) are both instances of ACA-Py, and all the agents are using DIDComm to communicate. Learn about and run the demo at <a href="https://vonx.io/how_to/iiwbook" target="_blank" rel="noopener noreferrer">https://vonx.io/how_to/iiwbook</a>. Developers, when you are ready, check out the code in the repos of the two services to see how they implement Django web server-based controller and agent.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-alicefaber-python-demo">The Alice/Faber Python demo<a href="#the-alicefaber-python-demo" class="hash-link" aria-label="Direct link to The Alice/Faber Python demo" title="Direct link to The Alice/Faber Python demo">​</a></h2><p>The Alice/Faber demo is the (in)famous first verifiable credentials demo. Alice, a former student of Faber College (&quot;Knowledge is Good&quot;), connects with the College, is issued a credential about her degree and then is asked by the College for a proof. There are a variety of ways of running the demo. The easiest is in your browser using a site (&quot;Play with VON&quot;) that let&#x27;s you run docker containers without installing anything. Alternatively, you can run locally on docker (our recommendation), or using python on your local machine. Each approach is covered below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-in-a-browser">Running in a Browser<a href="#running-in-a-browser" class="hash-link" aria-label="Direct link to Running in a Browser" title="Direct link to Running in a Browser">​</a></h3><p>In your browser, go to the docker playground service <a href="https://labs.play-with-docker.com/" target="_blank" rel="noopener noreferrer">Play with Docker</a>. On the title screen, click &quot;Start&quot;. On the next screen, click (in the left menu) &quot;+Add a new instance&quot;. That will start up a terminal in your browser. Run the following commands to start the Faber agent:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/hyperledger/aries-cloudagent-python</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> aries-cloudagent-python/demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">LEDGER_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">http://dev.greenlight.bcovrin.vonx.io ./run_demo faber</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now to start Alice&#x27;s agent. Click the &quot;+Add a new instance&quot; button again to open another terminal session. Run the following commands to start Alice&#x27;s agent:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/hyperledger/aries-cloudagent-python</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> aries-cloudagent-python/demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">LEDGER_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">http://dev.greenlight.bcovrin.vonx.io ./run_demo alice</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Alice&#x27;s agent is now running.</p><p>Jump to the <a href="#follow-the-script">Follow the Script</a> section below for further instructions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-in-docker">Running in Docker<a href="#running-in-docker" class="hash-link" aria-label="Direct link to Running in Docker" title="Direct link to Running in Docker">​</a></h3><p>Running the demo in docker requires having a <code>von-network</code> (a Hyperledger Indy public ledger sandbox) instance running in docker locally. See the <a href="https://github.com/bcgov/von-network#running-the-network-locally" target="_blank" rel="noopener noreferrer">Running the Network Locally</a> section of the <code>von-network</code> readme file for more info.</p><p>Open three <code>bash</code> shells. For Windows users, <code>git-bash</code> is highly recommended. bash is the default shell in Linux and Mac terminal sessions.</p><p>In the first terminal window, start <code>von-network</code> by following the <a href="https://github.com/bcgov/von-network#running-the-network-locally" target="_blank" rel="noopener noreferrer">Running the Network Locally</a> instructions.</p><p>In the second terminal, change directory into <code>demo</code> directory of your clone of this repository. Start the <code>faber</code> agent by issuing the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  ./run_demo faber</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the third terminal, change directory into <code>demo</code> directory of your clone of this repository. Start the <code>alice</code> agent by issuing the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  ./run_demo alice</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Jump to the <a href="#follow-the-script">Follow the Script</a> section below for further instructions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-locally">Running Locally<a href="#running-locally" class="hash-link" aria-label="Direct link to Running Locally" title="Direct link to Running Locally">​</a></h3><p>The following is an approach to to running the Alice and Faber demo using Python3 running on a bare machine. There are other ways to run the components, but this covers the general approach.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-prerequisites">Installing Prerequisites<a href="#installing-prerequisites" class="hash-link" aria-label="Direct link to Installing Prerequisites" title="Direct link to Installing Prerequisites">​</a></h4><p>We assume you have a running Python 3 environment. To install the prerequisites specific to running the agent/controller examples in your Python environment, run the following command from this repo&#x27;s <code>demo</code> folder. The precise command to run may vary based on your Python environment setup.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip3 </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -r demo/requirements.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>While that process will include the installation of the Indy python prerequisite, you still have to build and install the <code>libindy</code> code for your platform. Follow the <a href="https://github.com/hyperledger/indy-sdk#installing-the-sdk" target="_blank" rel="noopener noreferrer">installation instructions</a> in the indy-sdk repo for your platform.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="start-a-local-indy-ledger">Start a local indy ledger<a href="#start-a-local-indy-ledger" class="hash-link" aria-label="Direct link to Start a local indy ledger" title="Direct link to Start a local indy ledger">​</a></h4><p>Use instructions in the <a href="https://github.com/hyperledger/indy-sdk#how-to-start-local-nodes-pool-with-docker" target="_blank" rel="noopener noreferrer">indy-sdk repo</a> to run a local ledger.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="genesis-file-handling">Genesis File handling<a href="#genesis-file-handling" class="hash-link" aria-label="Direct link to Genesis File handling" title="Direct link to Genesis File handling">​</a></h4><p>An Aries agent (or other client) connecting to an Indy ledger must know the contents of the <code>genesis</code> file for the ledger. The genesis file lets the agent/client know the IP addresses of the initial nodes of the ledger, and the agent/client sends ledger requests to those IP addresses. When using the <code>indy-sdk</code> ledger, look for the instructions in that repo for how to find/update the ledger genesis file, and note the path to that file on your local system.</p><p>The envrionment variable <code>GENESIS_FILE</code> is used to let the Aries demo agents know the location of the genesis file. Use the path to that file as value of the <code>GENESIS_FILE</code> environment variable in the instructions below. You might want to copy that file to be local to the demo so the path is shorter.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="run-a-local-postgres-instance">Run a local Postgres instance<a href="#run-a-local-postgres-instance" class="hash-link" aria-label="Direct link to Run a local Postgres instance" title="Direct link to Run a local Postgres instance">​</a></h4><p>The demo uses the postgres database the wallet persistence. Use the Docker Hub certified postgres image to start up a postgres instance to be used for the wallet storage:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run --name some-postgres -e </span><span class="token assign-left variable" style="color:#36acaa">POSTGRES_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">mysecretpassword -d -p </span><span class="token number" style="color:#36acaa">5432</span><span class="token plain">:5432 postgres -c </span><span class="token string" style="color:#e3116c">&#x27;log_statement=all&#x27;</span><span class="token plain"> -c </span><span class="token string" style="color:#e3116c">&#x27;logging_collector=on&#x27;</span><span class="token plain"> -c </span><span class="token string" style="color:#e3116c">&#x27;log_destination=stderr&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="optional-run-a-von-network-ledger-browser">Optional: Run a von-network ledger browser<a href="#optional-run-a-von-network-ledger-browser" class="hash-link" aria-label="Direct link to Optional: Run a von-network ledger browser" title="Direct link to Optional: Run a von-network ledger browser">​</a></h4><p>If you want to be able to browse your local ledger as you run the demo, clone the <a href="https://github.com/bcgov/von-network" target="_blank" rel="noopener noreferrer">von-network</a> repo, go into the root of the cloned instance and run the following command, replacing the <code>/path/to/local-genesis.txt</code> with a path to the same genesis file as was used in starting the ledger.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">GENESIS_FILE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/path/to/local-genesis.txt </span><span class="token assign-left variable" style="color:#36acaa">PORT</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">9000</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">REGISTER_NEW_DIDS</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true python -m server.server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="run-the-alice-and-faber-controllersagents">Run the Alice and Faber Controllers/Agents<a href="#run-the-alice-and-faber-controllersagents" class="hash-link" aria-label="Direct link to Run the Alice and Faber Controllers/Agents" title="Direct link to Run the Alice and Faber Controllers/Agents">​</a></h4><p>With the rest of the pieces running, you can run the Alice and Faber controllers and agents. To do so, <code>cd</code> into the <code>demo</code> folder your clone of this repo in two terminal windows and run the following, replacing the <code>/path/to/local-genesis.txt</code>.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">GENESIS_FILE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/path/to/local-genesis.txt </span><span class="token assign-left variable" style="color:#36acaa">DEFAULT_POSTGRES</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true python3 -m runners.faber --port </span><span class="token number" style="color:#36acaa">8020</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">GENESIS_FILE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/path/to/local-genesis.txt </span><span class="token assign-left variable" style="color:#36acaa">DEFAULT_POSTGRES</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true python3 -m runners.alice --port </span><span class="token number" style="color:#36acaa">8030</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that Alice and Faber will each use 5 ports, e.g. using the parameter <code>... --port 8020</code> actually uses ports 8020 through 8024. Feel free to use different ports if you want.</p><p>Everything running? See the <a href="#follow-the-script">Follow the Script</a> section below for further instructions.</p><p>If the demo fails with an error that references the genesis file, a timeout connecting to the Indy Pool, or an Indy <code>307</code> error, it&#x27;s likely a problem with the genesis file handling. Things to check:</p><ul><li>Review the instructions for running the ledger with <code>indy-sdk</code>. Is it running properly?</li><li>Is the <code>/path/to/local-genesis.txt</code> file correct in your start commands?</li><li>Look at the IP addresses in the genesis file you are using, and make sure that those IP addresses are accessible from the location you are running the Aries demo</li><li>Check to make sure that all of the nodes of the ledger started. We&#x27;ve seen examples of only some of the nodes starting up, triggering an Indy <code>307</code> error.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="follow-the-script">Follow The Script<a href="#follow-the-script" class="hash-link" aria-label="Direct link to Follow The Script" title="Direct link to Follow The Script">​</a></h3><p>With both the Alice and Faber agents started, go to the Faber terminal window. The Faber agent has created and displayed an invitation. Copy this invitation and paste it at the Alice prompt. The agents will connect and then show a menu of options:</p><p>Faber:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    (1) Issue Credential</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (2) Send Proof Request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (3) Send Message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (4) Create New Invitation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (T) Toggle tracing on credential/proof exchange</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (X) Exit?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Alice:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    (3) Send Message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (4) Input New Invitation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (X) Exit?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exchanging-messages">Exchanging Messages<a href="#exchanging-messages" class="hash-link" aria-label="Direct link to Exchanging Messages" title="Direct link to Exchanging Messages">​</a></h4><p>Feel free to use the &quot;3&quot; option to send messages back and forth between the agents. Fun, eh? Those are secure, end-to-end encrypted messages.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issuing-and-proving-credentials">Issuing and Proving Credentials<a href="#issuing-and-proving-credentials" class="hash-link" aria-label="Direct link to Issuing and Proving Credentials" title="Direct link to Issuing and Proving Credentials">​</a></h4><p>When ready to test the credentials exchange protocols, go to the Faber prompt, enter &quot;1&quot; to send a credential, and then &quot;2&quot; to request a proof.</p><p>You don&#x27;t need to do anything with Alice&#x27;s agent - her agent is implemented to automatically receive credentials and respond to proof requests.</p><p>Note there is an option &quot;2a&quot; to initiate a connectionless proof - you can execute this option but it will only work end-to-end when <a href="/aries-acapy-docs/demo/AliceGetsAPhone">connecting to Faber from a mobile agent</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-options-in-the-alicefaber-demo">Additional Options in the Alice/Faber demo<a href="#additional-options-in-the-alicefaber-demo" class="hash-link" aria-label="Direct link to Additional Options in the Alice/Faber demo" title="Direct link to Additional Options in the Alice/Faber demo">​</a></h2><p>You can enable support for various ACA-Py features by providing additional command-line arguements when starting up <code>alice</code> or <code>faber</code>.</p><p>Note that when the controller starts up the agent, it prints out the ACA-Py startup command with <em>all</em> parameters - you can inspect this command to see what parameters are provided in each case. For more details on the parameters, just start ACA-Py with the <code>--help</code> parameter, for example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./scripts/run_docker start --help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="revocation">Revocation<a href="#revocation" class="hash-link" aria-label="Direct link to Revocation" title="Direct link to Revocation">​</a></h3><p>To enable support for revoking credentials, run the <code>faber</code> demo with the <code>--revocation</code> option:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_demo faber --revocation</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that you don&#x27;t specify this option with <code>alice</code> because it&#x27;s only applicable for the credential <code>issuer</code> (who has to enable revocation when creating a credential definition, and explicitely revoke credentials as appropriate; alice doesn&#x27;t have to do anything special when revocation is enabled).</p><p>You need to run a revocation registry in order to support revocation - the details are described in the <a href="https://github.com/hyperledger/aries-cloudagent-python/blob/master/demo/AliceGetsAPhone.md#run-an-instance-of-indy-tails-server" target="_blank" rel="noopener noreferrer">Alice gets a Phone</a> demo instructions.</p><p>Faber will setup support for revocation automatically, and you will see an extra option in faber&#x27;s menu to revoke a credential:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    (1) Issue Credential</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (2) Send Proof Request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (3) Send Message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (4) Create New Invitation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (5) Revoke Credential</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (6) Publish Revocations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (T) Toggle tracing on credential/proof exchange</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (X) Exit?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you issue a credential, make a note of the <code>Revocation registry ID</code> and <code>Credential revocation ID</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Faber      | Revocation registry ID: WGmUNAdH2ZfeGvacFoMVVP:4:WGmUNAdH2ZfeGvacFoMVVP:3:CL:38:Faber.Agent.degree_schema:CL_ACCUM:15ca49ed-1250-4608-9e8f-c0d52d7260c3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Faber      | Credential revocation ID: 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you revoke a credential you will need to provide those values:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[1/2/3/4/5/6/T/X] 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter revocation registry ID: WGmUNAdH2ZfeGvacFoMVVP:4:WGmUNAdH2ZfeGvacFoMVVP:3:CL:38:Faber.Agent.degree_schema:CL_ACCUM:15ca49ed-1250-4608-9e8f-c0d52d7260c3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter credential revocation ID: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Publish now? [Y/N]: y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that you need to Publish the revocation information to the ledger. Once you&#x27;ve revoked a credential any proof which uses this credential will fail to verify.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="did-exchange">DID Exchange<a href="#did-exchange" class="hash-link" aria-label="Direct link to DID Exchange" title="Direct link to DID Exchange">​</a></h3><p>You can enable DID Exchange using the <code>--did-exchange</code> parameter for the <code>alice</code> and <code>faber</code> demos.</p><p>This will use the new DID Exchange protocol when establishing connections between the agents, rather than the older Connection protocol. There is no other affect on the operation of the agents.</p><p>Note that you can&#x27;t (currently) use the DID Exchange protocol to connect with any of the available mobile agents.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="endorser">Endorser<a href="#endorser" class="hash-link" aria-label="Direct link to Endorser" title="Direct link to Endorser">​</a></h3><p>This is described in <a href="/aries-acapy-docs/demo/Endorser">Endorser.md</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-indy-sdk-backend">Run Indy-SDK Backend<a href="#run-indy-sdk-backend" class="hash-link" aria-label="Direct link to Run Indy-SDK Backend" title="Direct link to Run Indy-SDK Backend">​</a></h3><p>This runs using the indy-sdk libraries instead of askar:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_demo faber --wallet-type indy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mediation">Mediation<a href="#mediation" class="hash-link" aria-label="Direct link to Mediation" title="Direct link to Mediation">​</a></h3><p>To enable mediation, run the <code>alice</code> or <code>faber</code> demo with the <code>--mediation</code> option:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_demo faber --mediation</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will start up a second &quot;mediator&quot; agent and automatically set the alice/faber connection to use the mediator.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-tenancy">Multi-tenancy<a href="#multi-tenancy" class="hash-link" aria-label="Direct link to Multi-tenancy" title="Direct link to Multi-tenancy">​</a></h3><p>To enable support for multi-tenancy, run the <code>alice</code> or <code>faber</code> demo with the <code>--multitenant</code> option:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_demo faber --multitenant</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(This option can be used with both (or either) <code>alice</code> and/or <code>faber</code>.)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-ledger">Multi-ledger<a href="#multi-ledger" class="hash-link" aria-label="Direct link to Multi-ledger" title="Direct link to Multi-ledger">​</a></h3><p>To enable multiple ledger mode, run the <code>alice</code> or <code>faber</code> demo with the <code>--multi-ledger</code> option:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_demo faber --multi-ledger</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The configuration file for setting up multiple ledgers (for the demo) can be found at <code>./demo/multiple_ledger_config.yml</code>.</p><p>You will see an additional menu option to create new sub-wallets (or they can be considered to be &quot;virtual agents&quot;).</p><p>Faber:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    (1) Issue Credential</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (2) Send Proof Request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (3) Send Message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (4) Create New Invitation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (W) Create and/or Enable Wallet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (T) Toggle tracing on credential/proof exchange</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (X) Exit?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Alice:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    (3) Send Message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (4) Input New Invitation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (W) Create and/or Enable Wallet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (X) Exit?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you create a new wallet, you just need to provide the wallet name. (If you provide the name of an existing wallet then the controller will &quot;activate&quot; that wallet and make it the current wallet.)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[1/2/3/4/W/T/X] w</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter wallet name: new_wallet_12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Faber      | Register or switch to wallet new_wallet_12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Faber      | Created new profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Faber      | Profile backend: indy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Faber      | Profile name: new_wallet_12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Faber      | No public DID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... etc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that <code>faber</code> will create a public DID for this wallet, and will create a schema and credential definition.</p><p>Once you have created a new wallet, you must establish a connection between <code>alice</code> and <code>faber</code> (remember that this is a new &quot;virtual agent&quot; and doesn&#x27;t know anything about connections established for other &quot;agents&quot;).</p><p>In faber, create a new invitation:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[1/2/3/4/W/T/X] 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(... creates a new invitation ...)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In alice, accept the invitation:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[1/2/3/4/W/T/X] 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(... enter the new invitation string ...)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can inspect the additional multi-tenancy admin API&#x27;s (i.e. the &quot;agency API&quot; by opening either agent&#x27;s swagger page in your browser:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Show me a screenshot - multi-tenancy via admin API</summary><div><div class="collapsibleContent_i85q"><img loading="lazy" src="./collateral/multitenancy-admin-api.png" alt="Multi-tenancy via Admin API" class="img_ev3q"></div></div></details><p>Note that with multi-tenancy enabled:</p><ul><li>The &quot;base&quot; wallet will have access to this new &quot;agency API&quot; - the agent&#x27;s admin key, if enabled, must be provided in a header</li><li>&quot;Base wallet&quot; API calls are handled <a href="https://github.com/hyperledger/aries-cloudagent-python/blob/244194e68330835e5e2e53cc6c2993899d2437fb/demo/runners/support/agent.py#L606" target="_blank" rel="noopener noreferrer">here</a></li><li>The &quot;sub-wallets&quot; will have access to the &quot;normal&quot; ACA-Py admin API - to identify the sub-wallet, a JWT token must be provided, this token is created upon creation of the new wallet (see: <a href="https://github.com/hyperledger/aries-cloudagent-python/blob/master/demo/runners/support/agent.py#L378" target="_blank" rel="noopener noreferrer">this code here</a>)</li><li>&quot;Sub-wallet&quot; API calls are handled <a href="https://github.com/hyperledger/aries-cloudagent-python/blob/244194e68330835e5e2e53cc6c2993899d2437fb/demo/runners/support/agent.py#L632" target="_blank" rel="noopener noreferrer">here</a></li></ul><p>Documentation on ACA-Py&#x27;s multi-tenancy support can be found <a href="https://github.com/hyperledger/aries-cloudagent-python/blob/master/Multitenancy.md" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-tenancy-with-mediation">Multi-tenancy <em>with Mediation</em>!!!<a href="#multi-tenancy-with-mediation" class="hash-link" aria-label="Direct link to multi-tenancy-with-mediation" title="Direct link to multi-tenancy-with-mediation">​</a></h3><p>There are two options for configuring mediation with multi-tenancy, documented <a href="https://github.com/hyperledger/aries-cloudagent-python/blob/master/Multitenancy.md#mediation" target="_blank" rel="noopener noreferrer">here</a>.</p><p>This demo implements option #2 - each sub-wallet is configured with a separate connection to the mediator.</p><p>Run the demo (Alice or Faber) specifying <em>both</em> options:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_demo faber --multitenant --mediation</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This works exactly as the <em>vanilla</em> multi-tenancy, except that all connections are mediated.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="learning-about-the-alicefaber-code">Learning about the Alice/Faber code<a href="#learning-about-the-alicefaber-code" class="hash-link" aria-label="Direct link to Learning about the Alice/Faber code" title="Direct link to Learning about the Alice/Faber code">​</a></h2><p>These Alice and Faber scripts (in the <code>demo/runners</code> folder) implement the controller and run the agent as a sub-process (see the documentation for <code>aca-py</code>). The controller publishes a REST service to receive web hook callbacks from their agent. Note that this architecture, running the agent as a sub-process, is a variation on the documented architecture of running the controller and agent as separate processes/containers.</p><p>The controllers for this demo can be found in the <a href="/aries-acapy-docs/demo/runners/alice.py">alice.py</a> and <a href="/aries-acapy-docs/demo/runners/faber.py">faber.py</a> files. Alice and Faber are instances of the agent class found in <a href="/aries-acapy-docs/demo/runners/support/agent.py">agent.py</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="openapi-swagger-demo">OpenAPI (Swagger) Demo<a href="#openapi-swagger-demo" class="hash-link" aria-label="Direct link to OpenAPI (Swagger) Demo" title="Direct link to OpenAPI (Swagger) Demo">​</a></h2><p>Developing an ACA-Py controller is much like developing a web app that uses a REST API. As you develop, you will want an easy way to test out the behaviour of the API. That&#x27;s where the industry-standard OpenAPI (aka Swagger) UI comes in. ACA-Py (optionally) exposes an OpenAPI UI in ACA-Py that you can use to learn the ins and outs of the API. This <a href="/aries-acapy-docs/demo/AriesOpenAPIDemo">Aries OpenAPI demo</a> shows how you can use the OpenAPI UI with an ACA-Py agent by walking through the connectiing, issuing a credential, and presenting a proof sequence.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-demo">Performance Demo<a href="#performance-demo" class="hash-link" aria-label="Direct link to Performance Demo" title="Direct link to Performance Demo">​</a></h2><p>Another example in the <code>demo/runners</code> folder is <a href="/aries-acapy-docs/demo/runners/performance.py">performance.py</a>, that is used to test out the performance of interacting agents. The script starts up agents for Alice and Faber, initializes them, and then runs through an interaction some number of times. In this case, Faber issues a credential to Alice 300 times.</p><p>To run the demo, make sure that you shut down any running Alice/Faber agents. Then, follow the same steps to start the Alice/Faber demo, but:</p><ul><li>When starting the first agent, replace the agent name (e.g. <code>faber</code>) with <code>performance</code>.</li><li>Don&#x27;t start the second agent (<code>alice</code>) at all.</li></ul><p>The script starts both agents, runs the performance test, spits out performance results and shuts down the agents. Note that this is just one demonstration of how performance metrics tracking can be done with ACA-Py.</p><p>A second version of the performance test can be run by adding the parameter <code>--routing</code> to the invocation above. The parameter triggers the example to run with Alice using a routing agent such that all messages pass through the routing agent between Alice and Faber. This is a good, simple example of how routing can be implemented with DIDComm agents.</p><p>You can also run the demo against a postgres database using the following:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_demo performance --arg-file demo/postgres-indy-args.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(Obvs you need to be running a postgres database - the command to start postgres is in the yml file provided above.)</p><p>You can tweak the number of credentials issued using the <code>--count</code> and <code>--batch</code> parameters, and you can run against an Askar database using the <code>--wallet-type askar</code> option (or run using indy-sdk using <code>--wallet-type indy</code>).</p><p>An example full set of options is:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_demo performance --arg-file demo/postgres-indy-args.yml -c </span><span class="token number" style="color:#36acaa">10000</span><span class="token plain"> -b </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> --wallet-type askar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./run_demo performance --arg-file demo/postgres-indy-args.yml -c </span><span class="token number" style="color:#36acaa">10000</span><span class="token plain"> -b </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> --wallet-type indy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="coding-challenge-adding-acme">Coding Challenge: Adding ACME<a href="#coding-challenge-adding-acme" class="hash-link" aria-label="Direct link to Coding Challenge: Adding ACME" title="Direct link to Coding Challenge: Adding ACME">​</a></h2><p>Now that you have a solid foundation in using ACA-Py, time for a coding challenge. In this challenge, we extend the Alice-Faber command line demo by adding in ACME Corp, a place where Alice wants to work. The demo adds:</p><ul><li>ACME inviting Alice to connect</li><li>ACME requesting a proof of her College degree</li><li>ACME issuing Alice a credential after she is hired.</li></ul><p>The framework for the code is in the <a href="/aries-acapy-docs/demo/runners/acme.py">acme.py</a> file, but the code is incomplete. Using the knowledge you gained from running demo and viewing the alice.py and faber.py code, fill in the blanks for the code. When you are ready to test your work:</p><ul><li>Use the instructions above to start the Alice/Faber demo (above).</li><li>Start another terminal session and run the same commands as for &quot;Alice&quot;, but replace &quot;alice&quot; with &quot;acme&quot;.</li></ul><p>All done? Checkout how we added the missing code segments <a href="/aries-acapy-docs/demo/AcmeDemoWorkshop">here</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hyperledger/aries-acapy-docs/tree/main/docs/docusaurus/docs/demo/README.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/aries-acapy-docs/code/generated/modules"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">aries_cloudagent</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/aries-acapy-docs/demo/AcmeDemoWorkshop"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Acme Controller Workshop</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents--omit-in-toc-" class="table-of-contents__link toc-highlight">Table of Contents  omit in toc </a></li><li><a href="#the-iiwbook-demo" class="table-of-contents__link toc-highlight">The IIWBook Demo</a></li><li><a href="#the-alicefaber-python-demo" class="table-of-contents__link toc-highlight">The Alice/Faber Python demo</a><ul><li><a href="#running-in-a-browser" class="table-of-contents__link toc-highlight">Running in a Browser</a></li><li><a href="#running-in-docker" class="table-of-contents__link toc-highlight">Running in Docker</a></li><li><a href="#running-locally" class="table-of-contents__link toc-highlight">Running Locally</a></li><li><a href="#follow-the-script" class="table-of-contents__link toc-highlight">Follow The Script</a></li></ul></li><li><a href="#additional-options-in-the-alicefaber-demo" class="table-of-contents__link toc-highlight">Additional Options in the Alice/Faber demo</a><ul><li><a href="#revocation" class="table-of-contents__link toc-highlight">Revocation</a></li><li><a href="#did-exchange" class="table-of-contents__link toc-highlight">DID Exchange</a></li><li><a href="#endorser" class="table-of-contents__link toc-highlight">Endorser</a></li><li><a href="#run-indy-sdk-backend" class="table-of-contents__link toc-highlight">Run Indy-SDK Backend</a></li><li><a href="#mediation" class="table-of-contents__link toc-highlight">Mediation</a></li><li><a href="#multi-tenancy" class="table-of-contents__link toc-highlight">Multi-tenancy</a></li><li><a href="#multi-ledger" class="table-of-contents__link toc-highlight">Multi-ledger</a></li><li><a href="#multi-tenancy-with-mediation" class="table-of-contents__link toc-highlight">Multi-tenancy <em>with Mediation</em>!!!</a></li></ul></li><li><a href="#learning-about-the-alicefaber-code" class="table-of-contents__link toc-highlight">Learning about the Alice/Faber code</a></li><li><a href="#openapi-swagger-demo" class="table-of-contents__link toc-highlight">OpenAPI (Swagger) Demo</a></li><li><a href="#performance-demo" class="table-of-contents__link toc-highlight">Performance Demo</a></li><li><a href="#coding-challenge-adding-acme" class="table-of-contents__link toc-highlight">Coding Challenge: Adding ACME</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/aries-acapy-docs/">ACA-Py</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/hyperledger/aries-cloudagent-python" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/aries-acapy-docs/assets/js/runtime~main.f368ecf0.js"></script>
<script src="/aries-acapy-docs/assets/js/main.0257e31f.js"></script>
</body>
</html>