<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-docs/AdminAPI">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">ACA-Py Administration API | Aries Cloud Agent Python (ACA-Py)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hyperledger.github.io/aries-acapy-docs/docs/AdminAPI"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ACA-Py Administration API | Aries Cloud Agent Python (ACA-Py)"><meta data-rh="true" name="description" content="Using the OpenAPI (Swagger) Interface"><meta data-rh="true" property="og:description" content="Using the OpenAPI (Swagger) Interface"><link data-rh="true" rel="icon" href="/aries-acapy-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hyperledger.github.io/aries-acapy-docs/docs/AdminAPI"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/aries-acapy-docs/docs/AdminAPI" hreflang="en"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/aries-acapy-docs/docs/AdminAPI" hreflang="x-default"><link rel="stylesheet" href="/aries-acapy-docs/assets/css/styles.4ae0b40d.css">
<link rel="preload" href="/aries-acapy-docs/assets/js/runtime~main.f368ecf0.js" as="script">
<link rel="preload" href="/aries-acapy-docs/assets/js/main.0257e31f.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/aries-acapy-docs/"><div class="navbar__logo"><img src="/aries-acapy-docs/img/aries-logo.png" alt="ACA-Py" class="themedImage_ToTc themedImage--light_HNdA"><img src="/aries-acapy-docs/img/aries-logo.png" alt="ACA-Py" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Aries Cloud Agent Python</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/docs/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/code/">Code</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/demo/">Demo</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hyperledger/aries-cloudagent-python" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/aries-acapy-docs/admin/CHANGELOG">Admin</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/code/">Code</a><button aria-label="Toggle the collapsible sidebar category &#x27;Code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/demo/">Aries Cloud Agent Python (ACA-Py) Demos</a><button aria-label="Toggle the collapsible sidebar category &#x27;Aries Cloud Agent Python (ACA-Py) Demos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/developer/">Becoming an Indy/Aries Developer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Becoming an Indy/Aries Developer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/aries-acapy-docs/docs/">Hyperledger Aries Cloud Agent - Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hyperledger Aries Cloud Agent - Python&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/aries-acapy-docs/docs/AdminAPI">ACA-Py Administration API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/AnoncredsProofValidation">Anoncreds Proof Validation in Aca-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/ContainerImagesAndGithubActions">Container Images and Github Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/DIDMethods">DID methods in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/DIDResolution">DID Resolution in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Databases">Databases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/DevReadMe">Developer&#x27;s Read Me for Hyperledger Aries Cloud Agent - Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Endorser">Transaction Endorser Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/JsonLdCredentials">JSON-LD Credentials in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Logging">Logging docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Mediation">Mediation docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Multicredentials">Multi-Credentials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Multiledger">Multi-ledger in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Multitenancy">Multi-tenancy in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/RedisPlugins">ACA-Py Redis Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/SupportedRFCs">Aries AIP and RFCs Supported in Aries Cloud Agent Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Troubleshooting">Troubleshooting Aries Cloud Agent Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/UsingOpenAPI">Aries Cloud Agent-Python (ACA-Py) - OpenAPI Code Generation Considerations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/deploymentModel">Aries Cloud Agent-Python (ACA-Py) - Deployment Model</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/aries-acapy-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/aries-acapy-docs/docs/"><span itemprop="name">Hyperledger Aries Cloud Agent - Python</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ACA-Py Administration API</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>ACA-Py Administration API</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-openapi-swagger-interface">Using the OpenAPI (Swagger) Interface<a href="#using-the-openapi-swagger-interface" class="hash-link" aria-label="Direct link to Using the OpenAPI (Swagger) Interface" title="Direct link to Using the OpenAPI (Swagger) Interface">​</a></h2><p>ACA-Py provides an OpenAPI-documented REST interface for administering the agent&#x27;s internal state and sparking communication with connected agents.</p><p>To see the specifics of the supported endpoints as well as the expected request and response formats it is recommended to run the <code>aca-py</code> agent with the <code>--admin {HOST} {PORT}</code> and <code>--admin-insecure-mode</code> command line parameters, which exposes the OpenAPI UI on the provided port for interaction via a web browser. Production deployments should run the agent with <code>--admin-api-key {KEY}</code> and add the <code>X-API-Key: {KEY}</code> header to all requests instead of running the agent with the <code>--admin-insecure-mode</code> parameter.</p><p><img loading="lazy" alt="Admin API Screenshot" src="/aries-acapy-docs/assets/images/adminApi-902f514f9713f3f0c7e4a38b09f9af69.png" width="1802" height="1340" class="img_ev3q"></p><p>To invoke a specific method:</p><ul><li>scroll to and find that endpoint;</li><li>click on the endpoint name to expand its section of the UI;</li><li>click on the Try it out button;</li><li>fill in any data necessary to run the command;</li><li>click Execute;</li><li>check the response to see if the request worked as expected.</li></ul><p>The mechanical steps are easy, it’s fourth step from the list above that can be tricky. Supplying the right data and, where JSON is involved, getting the syntax correct - braces and quotes can be a pain. When steps don’t work, start your debugging by looking at your JSON. You may also choose to use a REST client like Postman or Insomnia which will provide syntax highlighting and other features to simplify the process.</p><p>Because API methods will often kick off asynchronous processes, the JSON response provided by an endpoint is not always sufficient to determine the next action. To handle this situation as well as events triggered due to external inputs (such as new connection requests), it is necessary to implement a webhook processor, as detailed in the next section.</p><p>The combination of an OpenAPI client and webhook processor is referred to as an ACA-Py Controller and is the recommended method to define custom behaviours for your ACA-Py-based agent application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="administration-api-webhooks">Administration API Webhooks<a href="#administration-api-webhooks" class="hash-link" aria-label="Direct link to Administration API Webhooks" title="Direct link to Administration API Webhooks">​</a></h2><p>When ACA-Py is started with the <code>--webhook-url {URL}</code> command line parameter, state-management records are sent to the provided URL via POST requests whenever a record is created or its <code>state</code> property is updated.</p><p>When a webhook is dispatched, the record <code>topic</code> is appended as a path component to the URL, for example: <code>https://webhook.host.example</code> becomes <code>https://webhook.host.example/topic/connections</code> when a connection record is updated. A POST request is made to the resulting URL with the body of the request comprised by a serialized JSON object. The full set of properties of the current set of webhook payloads are listed below. Note that empty (null-value) properties are omitted.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pairwise-connection-record-updated-connections">Pairwise Connection Record Updated (<code>/connections</code>)<a href="#pairwise-connection-record-updated-connections" class="hash-link" aria-label="Direct link to pairwise-connection-record-updated-connections" title="Direct link to pairwise-connection-record-updated-connections">​</a></h4><ul><li><code>connection_id</code>: the unique connection identifier</li><li><code>state</code>: <code>init</code> / <code>invitation</code> / <code>request</code> / <code>response</code> / <code>active</code> / <code>error</code> / <code>inactive</code></li><li><code>my_did</code>: the DID this agent is using in the connection</li><li><code>their_did</code>: the DID the other agent in the connection is using</li><li><code>their_label</code>: a connection label provided by the other agent</li><li><code>their_role</code>: a role assigned to the other agent in the connection</li><li><code>inbound_connection_id</code>: a connection identifier for the related inbound routing connection</li><li><code>initiator</code>: <code>self</code> / <code>external</code> / <code>multiuse</code></li><li><code>invitation_key</code>: a verification key used to identify the source connection invitation</li><li><code>request_id</code>: the <code>@id</code> property from the connection request message</li><li><code>routing_state</code>: <code>none</code> / <code>request</code> / <code>active</code> / <code>error</code></li><li><code>accept</code>: <code>manual</code> / <code>auto</code></li><li><code>error_msg</code>: the most recent error message</li><li><code>invitation_mode</code>: <code>once</code> / <code>multi</code></li><li><code>alias</code>: a local alias for the connection record</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="basic-message-received-basicmessages">Basic Message Received (<code>/basicmessages</code>)<a href="#basic-message-received-basicmessages" class="hash-link" aria-label="Direct link to basic-message-received-basicmessages" title="Direct link to basic-message-received-basicmessages">​</a></h4><ul><li><code>connection_id</code>: the identifier of the related pairwise connection</li><li><code>message_id</code>: the <code>@id</code> of the incoming agent message</li><li><code>content</code>: the contents of the agent message</li><li><code>state</code>: <code>received</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="forward-message-received--forward">Forward Message Received  (<code>/forward</code>)<a href="#forward-message-received--forward" class="hash-link" aria-label="Direct link to forward-message-received--forward" title="Direct link to forward-message-received--forward">​</a></h4><p>Enable using <code>--monitor-forward</code>.</p><ul><li><code>connection_id</code>: the identifier of the connection associated with the recipient key</li><li><code>recipient_key</code>: the recipient key of the forward message (<code>to</code> field of the forward message)</li><li><code>status</code>: The delivery status of the received forward message. Possible values:<ul><li><code>sent_to_session</code>: Message is sent directly to the connection over an active transport session</li><li><code>sent_to_external_queue</code>: Message is sent to external queue. No information is known on the delivery of the message</li><li><code>queued_for_delivery</code>: Message is queued for delivery using outbound transport (recipient connection has an endpoint)</li><li><code>waiting_for_pickup</code>: The connection has no reachable endpoint. Need to wait for the recipient to connect with return routing for delivery</li><li><code>undeliverable</code>: The connection has no reachable endpoint, and the internal queue for messages is not enabled (<code>--enable-undelivered-queue</code>). </li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="credential-exchange-record-updated-issue_credential">Credential Exchange Record Updated (<code>/issue_credential</code>)<a href="#credential-exchange-record-updated-issue_credential" class="hash-link" aria-label="Direct link to credential-exchange-record-updated-issue_credential" title="Direct link to credential-exchange-record-updated-issue_credential">​</a></h4><ul><li><code>credential_exchange_id</code>: the unique identifier of the credential exchange</li><li><code>connection_id</code>: the identifier of the related pairwise connection</li><li><code>thread_id</code>: the thread ID of the previously received credential proposal or offer</li><li><code>parent_thread_id</code>: the parent thread ID of the previously received credential proposal or offer</li><li><code>initiator</code>: issue-credential exchange initiator <code>self</code> / <code>external</code></li><li><code>state</code>: <code>proposal_sent</code> / <code>proposal_received</code> / <code>offer_sent</code> / <code>offer_received</code> / <code>request_sent</code> / <code>request_received</code> / <code>issued</code> / <code>credential_received</code> / <code>credential_acked</code></li><li><code>credential_definition_id</code>: the ledger identifier of the related credential definition</li><li><code>schema_id</code>: the ledger identifier of the related credential schema</li><li><code>credential_proposal_dict</code>: the credential proposal message</li><li><code>credential_offer</code>: (Indy) credential offer</li><li><code>credential_request</code>: (Indy) credential request</li><li><code>credential_request_metadata</code>: (Indy) credential request metadata</li><li><code>credential_id</code>: the wallet identifier of the stored credential</li><li><code>raw_credential</code>: the credential record as received</li><li><code>credential</code>: the credential record as stored in the wallet</li><li><code>auto_offer</code>: (boolean) whether to automatically offer the credential</li><li><code>auto_issue</code>: (boolean) whether to automatically issue the credential</li><li><code>error_msg</code>: the previous error message</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="presentation-exchange-record-updated-present_proof">Presentation Exchange Record Updated (<code>/present_proof</code>)<a href="#presentation-exchange-record-updated-present_proof" class="hash-link" aria-label="Direct link to presentation-exchange-record-updated-present_proof" title="Direct link to presentation-exchange-record-updated-present_proof">​</a></h4><ul><li><code>presentation_exchange_id</code>: the unique identifier of the presentation exchange</li><li><code>connection_id</code>: the identifier of the related pairwise connection</li><li><code>thread_id</code>: the thread ID of the previously received presentation proposal or offer</li><li><code>initiator</code>: present-proof exchange initiator: <code>self</code> / <code>external</code></li><li><code>state</code>: <code>proposal_sent</code> / <code>proposal_received</code> / <code>request_sent</code> / <code>request_received</code> / <code>presentation_sent</code> / <code>presentation_received</code> / <code>verified</code></li><li><code>presentation_proposal_dict</code>: the presentation proposal message</li><li><code>presentation_request</code>: (Indy) presentation request (also known as proof request)</li><li><code>presentation</code>: (Indy) presentation (also known as proof)</li><li><code>verified</code>: (string) whether the presentation is verified: <code>true</code> or <code>false</code></li><li><code>auto_present</code>: (boolean) prover choice to auto-present proof as verifier requests</li><li><code>error_msg</code>: the previous error message</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-standard-behaviour">API Standard Behaviour<a href="#api-standard-behaviour" class="hash-link" aria-label="Direct link to API Standard Behaviour" title="Direct link to API Standard Behaviour">​</a></h2><p>The best way to develop a new admin API or protocol is to follow one of the existing protocols, such as the Credential Exchange or Presentation Exchange.</p><p>The <code>routes.py</code> file contains the API definitions - API endpoints and payload schemas (note that these are not the Aries message schemas).</p><p>The payload schemas are defined using <a href="https://marshmallow.readthedocs.io/" target="_blank" rel="noopener noreferrer">marshmallow</a> and will be validated automatically when the API is executed (using a middleware).  (This raises a status <code>422</code> HTTP response with an error message if the schema validation fails.)</p><p>API endpoints are defined using <a href="https://github.com/maximdanilchenko/aiohttp-apispec" target="_blank" rel="noopener noreferrer">aiohttp_apispec</a> tags (e.g. <code>@doc</code>, <code>@request_schema</code>, <code>@response_schema</code> etc.) which define the input and output parameters of the endpoint.  API url paths are defined in the <code>register()</code> method and added to the swagger page in the <code>post_process_routes()</code> method.</p><p>The API&#x27;s should return the following HTTP status:</p><ul><li>HTTP 200 for successful API completion, with appropriate response</li><li>HTTP 400 (or appropriate 4xx code) (with an error message) for errors on input parameters (i.e. the user can retry with different parameters and potentially get a successful API call)</li><li>HTTP 404 if a record is expected and not found (generally for GET requests that fetch a single record)</li><li>HTTP 500 (or appropriate 5xx code) if there is some other processing error (i.e. won&#x27;t make any difference what parameters the user tries) with an error message</li></ul><p>.. and should not return:</p><ul><li>HTTP 500 with a stack trace due to untrapped error (we should handle error conditions with a 400 or 404 response, and catch errors and provide a meaningful error message)</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hyperledger/aries-acapy-docs/tree/main/docs/docusaurus/docs/docs/AdminAPI.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/aries-acapy-docs/docs/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Hyperledger Aries Cloud Agent - Python</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/aries-acapy-docs/docs/AnoncredsProofValidation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Anoncreds Proof Validation in Aca-Py</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#using-the-openapi-swagger-interface" class="table-of-contents__link toc-highlight">Using the OpenAPI (Swagger) Interface</a></li><li><a href="#administration-api-webhooks" class="table-of-contents__link toc-highlight">Administration API Webhooks</a></li><li><a href="#api-standard-behaviour" class="table-of-contents__link toc-highlight">API Standard Behaviour</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/aries-acapy-docs/">ACA-Py</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/hyperledger/aries-cloudagent-python" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/aries-acapy-docs/assets/js/runtime~main.f368ecf0.js"></script>
<script src="/aries-acapy-docs/assets/js/main.0257e31f.js"></script>
</body>
</html>