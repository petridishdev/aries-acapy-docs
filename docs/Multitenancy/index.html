<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-docs/Multitenancy">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Multi-tenancy in ACA-Py | Aries Cloud Agent Python (ACA-Py)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hyperledger.github.io/aries-acapy-docs/docs/Multitenancy"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Multi-tenancy in ACA-Py | Aries Cloud Agent Python (ACA-Py)"><meta data-rh="true" name="description" content="Most deployments of ACA-Py use a single wallet for all operations. This means all connections, credentials, keys, and everything else is stored in the same wallet and shared between all controllers of the agent. Multi-tenancy in ACA-Py allows multiple tenants to use the same ACA-Py instance with a different context. All tenants get their own encrypted wallet that only holds their own data."><meta data-rh="true" property="og:description" content="Most deployments of ACA-Py use a single wallet for all operations. This means all connections, credentials, keys, and everything else is stored in the same wallet and shared between all controllers of the agent. Multi-tenancy in ACA-Py allows multiple tenants to use the same ACA-Py instance with a different context. All tenants get their own encrypted wallet that only holds their own data."><link data-rh="true" rel="icon" href="/aries-acapy-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hyperledger.github.io/aries-acapy-docs/docs/Multitenancy"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/aries-acapy-docs/docs/Multitenancy" hreflang="en"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/aries-acapy-docs/docs/Multitenancy" hreflang="x-default"><link rel="stylesheet" href="/aries-acapy-docs/assets/css/styles.4ae0b40d.css">
<link rel="preload" href="/aries-acapy-docs/assets/js/runtime~main.55efbebf.js" as="script">
<link rel="preload" href="/aries-acapy-docs/assets/js/main.f211ac65.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/aries-acapy-docs/"><div class="navbar__logo"><img src="/aries-acapy-docs/img/aries-logo.png" alt="ACA-Py" class="themedImage_ToTc themedImage--light_HNdA"><img src="/aries-acapy-docs/img/aries-logo.png" alt="ACA-Py" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Aries Cloud Agent Python</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/docs/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/code/">Code</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/demo/">Demo</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hyperledger/aries-acapy-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/aries-acapy-docs/admin/CHANGELOG">Admin</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/code/">Code</a><button aria-label="Toggle the collapsible sidebar category &#x27;Code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/demo/">Aries Cloud Agent Python (ACA-Py) Demos</a><button aria-label="Toggle the collapsible sidebar category &#x27;Aries Cloud Agent Python (ACA-Py) Demos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/developer/">Becoming an Indy/Aries Developer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Becoming an Indy/Aries Developer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/aries-acapy-docs/docs/">Hyperledger Aries Cloud Agent - Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hyperledger Aries Cloud Agent - Python&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/AdminAPI">ACA-Py Administration API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/AnoncredsProofValidation">Anoncreds Proof Validation in Aca-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/ContainerImagesAndGithubActions">Container Images and Github Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/DIDMethods">DID methods in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/DIDResolution">DID Resolution in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Databases">Databases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/DevReadMe">Developer&#x27;s Read Me for Hyperledger Aries Cloud Agent - Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Endorser">Transaction Endorser Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/JsonLdCredentials">JSON-LD Credentials in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Logging">Logging docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Mediation">Mediation docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Multicredentials">Multi-Credentials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Multiledger">Multi-ledger in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/aries-acapy-docs/docs/Multitenancy">Multi-tenancy in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/RedisPlugins">ACA-Py Redis Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/SupportedRFCs">Aries AIP and RFCs Supported in Aries Cloud Agent Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Troubleshooting">Troubleshooting Aries Cloud Agent Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/UsingOpenAPI">Aries Cloud Agent-Python (ACA-Py) - OpenAPI Code Generation Considerations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/deploymentModel">Aries Cloud Agent-Python (ACA-Py) - Deployment Model</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/aries-acapy-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/aries-acapy-docs/docs/"><span itemprop="name">Hyperledger Aries Cloud Agent - Python</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Multi-tenancy in ACA-Py</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Multi-tenancy in ACA-Py </h1><p>Most deployments of ACA-Py use a single wallet for all operations. This means all connections, credentials, keys, and everything else is stored in the same wallet and shared between all controllers of the agent. Multi-tenancy in ACA-Py allows multiple tenants to use the same ACA-Py instance with a different context. All tenants get their own encrypted wallet that only holds their own data.</p><p>This allows ACA-Py to be used for a wider range of use cases. One use case could be a company that creates a wallet for each department. Each department has full control over the actions they perform while having a shared instance for easy maintenance. Another use case could be for a <a href="https://github.com/hyperledger/aries-rfcs/blob/master/concepts/0566-issuer-hosted-custodidal-agents/README.md" target="_blank" rel="noopener noreferrer">Issuer-Hosted Custodial Agent</a>. Sometimes it is required to host the agent on behalf of someone else.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents--omit-in-toc-">Table of Contents <a href="#table-of-contents--omit-in-toc-" class="hash-link" aria-label="Direct link to Table of Contents " title="Direct link to Table of Contents ">​</a></h2><ul><li><a href="#general-concept">General Concept</a><ul><li><a href="#base-and-sub-wallets">Base and Sub Wallets</a></li><li><a href="#usage">Usage</a></li></ul></li><li><a href="#multi-tenant-admin-api">Multi-tenant Admin API</a></li><li><a href="#managed-vs-unmanaged-mode">Managed vs Unmanaged Mode</a><ul><li><a href="#managed">Managed</a></li><li><a href="#unmanaged">Unmanaged</a></li><li><a href="#usage-1">Usage</a></li></ul></li><li><a href="#message-routing">Message Routing</a><ul><li><a href="#relaying">Relaying</a></li><li><a href="#mediation">Mediation</a></li></ul></li><li><a href="#webhooks">Webhooks</a><ul><li><a href="#webhook-urls">Webhook URLs</a></li><li><a href="#identifying-the-wallet">Identifying the wallet</a></li></ul></li><li><a href="#authentication">Authentication</a><ul><li><a href="#getting-a-token">Getting a token</a></li><li><a href="#jwt-secret">JWT Secret</a></li><li><a href="#swaggerui">SwaggerUI</a></li></ul></li><li><a href="#tenant-management">Tenant Management</a><ul><li><a href="#update-a-tenant">Update a tenant</a></li><li><a href="#remove-a-tenant">Remove a tenant</a></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-concept">General Concept<a href="#general-concept" class="hash-link" aria-label="Direct link to General Concept" title="Direct link to General Concept">​</a></h2><p>When multi-tenancy is enabled in ACA-Py there is still a single agent running, however, some of the resources are now shared between the tenants of the agent. Each tenant has their own wallet, with their own DIDs, connections, and credentials. Transports and most of the settings are still shared between agents. Each wallet uses the same endpoint, so to the outside world, it is not obvious multiple tenants are using the same agent.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="base-and-sub-wallets">Base and Sub Wallets<a href="#base-and-sub-wallets" class="hash-link" aria-label="Direct link to Base and Sub Wallets" title="Direct link to Base and Sub Wallets">​</a></h3><p>Multi-tenancy in ACA-Py makes a distinction between a base wallet and sub wallets.</p><p>The wallets used by the different tenants are called <strong>sub wallets</strong>. A sub wallet is almost identical to a wallet when multi-tenancy is disabled. This means that you can do everything with it that a single-tenant ACA-Py instance can also do.</p><p>The <strong>base wallet</strong> however, takes on a different role and has limited functionality. Its main function is to manage the sub wallets, which can be done using the <a href="#multi-tenant-admin-api">Multi-tenant Admin API</a>. It stores all settings and information about the different sub wallets and will route incoming messages to the corresponding sub wallets. See <a href="#message-routing">Message Routing</a> for more details. All other features are disabled for the base wallet. This means it cannot issue credentials, present proof, or do any of the other actions sub wallets can do. This is to keep a clear hierarchical difference between base and sub wallets</p><p><img loading="lazy" alt="Multi-tenancy Architecture" src="/aries-acapy-docs/assets/images/multitenancyDiagram-d7c6e2604a0b7cd7b0e4963dd77aaee3.png" width="2520" height="1080" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3><p>Multi-tenancy is disabled by default. You can enable support for multiple wallets using the <code>--multitenant</code> startup parameter. To also be able to manage wallets for the tenants, the multi-tenant admin API can be enabled using the <code>--multitenant-admin</code> startup parameter. See <a href="#multi-tenant-admin-api">Multi-tenant Admin API</a> below for more info on the admin API.</p><p>The <code>--jwt-secret</code> startup parameter is required when multi-tenancy is enabled. This is used for JWT creation and verification. See <a href="#authentication">Authentication</a> below for more info.</p><p>Example:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># This enables multi-tenancy in ACA-Py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">multitenant</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># This enables the admin API for multi-tenancy. More information below</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">multitenant-admin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># This sets the secret used for JWT creation/verification for sub wallets</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jwt-secret</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Something very secret</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="multi-tenant-admin-api">Multi-tenant Admin API<a href="#multi-tenant-admin-api" class="hash-link" aria-label="Direct link to Multi-tenant Admin API" title="Direct link to Multi-tenant Admin API">​</a></h2><p>The multi-tenant admin API allows you to manage wallets in ACA-Py. Only the base wallet can manage wallets, so you can&#x27;t for example create a wallet in the context of sub wallet (using the <code>Authorization</code> header as specified in <a href="#authentication">Authentication</a>).</p><p>Multi-tenancy related actions are grouped under the <code>/multitenancy</code> path or the <code>multitenancy</code> topic in the SwaggerUI. As mentioned above, the multi-tenant admin API is disabled by default, event when multi-tenancy is enabled. This is to allow for more flexible agent configuration (e.g. horizontal scaling where only a single instance exposes the admin API). To enable the multi-tenant admin API, the <code>--multitenant-admin</code> startup parameter can be used.</p><p>See the SwaggerUI for the exact API definition for multi-tenancy.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="managed-vs-unmanaged-mode">Managed vs Unmanaged Mode<a href="#managed-vs-unmanaged-mode" class="hash-link" aria-label="Direct link to Managed vs Unmanaged Mode" title="Direct link to Managed vs Unmanaged Mode">​</a></h2><p>Multi-tenancy in ACA-Py is designed with two key management modes in mind.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="managed">Managed<a href="#managed" class="hash-link" aria-label="Direct link to Managed" title="Direct link to Managed">​</a></h3><p>In <strong><code>managed</code></strong> mode, ACA-Py will manage the key for the wallet. This is the easiest configuration as it allows ACA-Py to fully control the wallet. When a message is received from another agent it can immediately unlock the wallet and process the message. The wallet key is stored encrypted in the base wallet.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="unmanaged">Unmanaged<a href="#unmanaged" class="hash-link" aria-label="Direct link to Unmanaged" title="Direct link to Unmanaged">​</a></h3><p>In <strong><code>unmanaged</code></strong> mode, ACA-Py won&#x27;t manage the key for the wallet. The key is not stored in the base wallet, which means the key to unlock the wallet needs to be provided whenever the wallet is used. When a message from another agent is received, ACA-Py cannot immediately unlock the wallet and process the message. See <a href="#authentication">Authentication</a> for more info.</p><p>It is important to note unmanaged mode doesn&#x27;t provide a lot of security over managed mode. The key is still processed by the agent, and therefore trust is required. It could however provide some benefit in the case a multi-tenant agent is compromised, as the agent doesn&#x27;t store the key to unlock the wallet.</p><blockquote><p>⚠️ Although support for unmanaged mode is mostly in place, the receiving of messages from other agents in unmanaged mode is not supported yet. This means unmanaged mode can not be used yet.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-1">Usage<a href="#usage-1" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3><p>The mode used can be specified when creating a wallet using the <code>key_management_mode</code> parameter.</p><div class="language-jsonc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// POST /multitenancy/wallet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ... other params ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;key_management_mode&quot;: &quot;managed&quot; // or &quot;unmanaged&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="message-routing">Message Routing<a href="#message-routing" class="hash-link" aria-label="Direct link to Message Routing" title="Direct link to Message Routing">​</a></h2><p>In multi-tenant mode, when ACA-Py receives a message from another agent, it will need to determine which tenant to route the message to. Hyperledger Aries defines two types of routing methods, mediation and relaying.</p><p>See the <a href="https://github.com/hyperledger/aries-rfcs/blob/master/concepts/0046-mediators-and-relays/README.md" target="_blank" rel="noopener noreferrer">Mediators and Relays</a> RFC for an in-depth description of the difference between the two concepts.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="relaying">Relaying<a href="#relaying" class="hash-link" aria-label="Direct link to Relaying" title="Direct link to Relaying">​</a></h3><p>In multi-tenant mode, ACA-Py still exposes a single endpoint for each transport. This means it can&#x27;t route messages to sub wallets based on the endpoint. To resolve this the base wallet acts as a relay for all sub wallets. As can be seen in the architecture diagram above, all messages go through the base wallet. whenever a sub wallet creates a new key or connection, it will be registered at the base wallet. This allows the base wallet to look at the recipient keys for a message and determine which wallet it needs to route to.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mediation">Mediation<a href="#mediation" class="hash-link" aria-label="Direct link to Mediation" title="Direct link to Mediation">​</a></h3><p>ACA-Py allows messages to be routed through a mediator, and multi-tenancy can be used in combination with external mediators. The following scenarios are possible:</p><ol><li>The base wallet has a default mediator set that will be used by sub wallets.<ul><li>Use <code>--mediation-invitation</code> to connect to the mediator, request mediation, and set it as the default mediator</li><li>Use <code>default-mediator-id</code> if you&#x27;re already connected to the mediator and mediation is granted (e.g. after restart).</li><li>When a sub wallet creates a connection or key it will be registered at the mediator via the base wallet connection. The base wallet will still act as a relay and route the messages to the correct sub wallets.</li><li>Pro: Not every wallet needs to create a connection with the mediator</li><li>Con: Sub wallets have no control over the mediator.</li></ul></li><li>Sub wallet creates a connection with mediator and requests mediation<ul><li>Use mediation as you would in a non-multi-tenant agent, however, the base wallet will still act as a relay.</li><li>You can set the default mediator to use for connections (using the mediation API).</li><li>Pro: Sub wallets have control over the mediator.</li><li>Con: Every wallet</li></ul></li></ol><p>The main tradeoff between option 1. and 2. is redundancy and control. Option 1. doesn&#x27;t require every sub wallet to create a new connection with the mediator and request mediation. When all sub wallets are going to use the same mediator, this can be a huge benefit. Option 2. gives more control over the mediator being used. This could be useful if e.g. all wallets use a different mediator.</p><p>A combination of option 1. and 2. is also possible. In this case, two mediators will be used and the sub wallet mediator will forward to the base wallet mediator, which will, in turn, forward to the ACA-Py instance.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">+---------------------+      +----------------------+      +--------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Sub wallet mediator | ---&gt; | Base wallet mediator | ---&gt; | Multi-tenant agent |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---------------------+      +----------------------+      +--------------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webhooks">Webhooks<a href="#webhooks" class="hash-link" aria-label="Direct link to Webhooks" title="Direct link to Webhooks">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="webhook-urls">Webhook URLs<a href="#webhook-urls" class="hash-link" aria-label="Direct link to Webhook URLs" title="Direct link to Webhook URLs">​</a></h3><p>ACA-Py makes use of <a href="/aries-acapy-docs/docs/AdminAPI#administration-api-webhooks">webhook events</a> to call back to the controller. Multiple webhook targets can be specified, however, in multi-tenant mode, it may be desirable to specify different webhook targets per wallet.</p><p>When creating a wallet <code>wallet_dispatch_type</code> be used to specify how webhooks for the wallet should be dispatched. The options are:</p><ul><li><code>default</code>: Dispatch only to webhooks associated with this wallet.</li><li><code>base</code>: Dispatch only to webhooks associated with the base wallet.</li><li><code>both</code>: Dispatch to both webhook targets.</li></ul><p>If either <code>default</code> or <code>both</code> is specified you can set the webhook URLs specific to this wallet using the <code>wallet.webhook_urls</code> option.</p><p>Example:</p><div class="language-jsonc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// POST /multitenancy/wallet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ... other params ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_dispatch_type&quot;: &quot;default&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_webhook_urls&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;https://webhook-url.com/path&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;https://another-url.com/site&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="identifying-the-wallet">Identifying the wallet<a href="#identifying-the-wallet" class="hash-link" aria-label="Direct link to Identifying the wallet" title="Direct link to Identifying the wallet">​</a></h3><p>When the webhook URLs of the base wallet are used or when multiple wallets specify the same webhook URL it can be hard to identify the wallet an event belongs to. To resolve this each webhook event will include the wallet id the event corresponds to.</p><p>For HTTP events the wallet id is included as the <code>x-wallet-id</code> header. For WebSockets, the wallet id is included in the enclosing JSON object.</p><p>HTTP example:</p><div class="language-jsonc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST &lt;webhook-url&gt;/{topic} [headers=x-wallet-id]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // event payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>WebSocket example:</p><div class="language-jsonc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;topic&quot;: &quot;{topic}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_id&quot;: &quot;{wallet_id}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // event payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication">​</a></h2><p>When multi-tenancy is not enabled you can authenticate with the agent using the <code>x-api-key</code> header. As there is only a single wallet, this provides sufficient authentication and authorization.</p><p>For sub wallets, an additional authentication method is introduced using JSON Web Tokens (JWTs). A <code>token</code> parameter is returned after creating a wallet or calling the get token endpoint. This token must be provided for every admin API call you want to perform for the wallet using the Bearer authorization scheme.</p><p>Example</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET /connections [headers=&quot;Authorization: Bearer {token}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>Authorization</code> header is in addition to the Admin API key. So if the <code>admin-api-key</code> is enabled (which should be enabled in production) both the <code>Authorization</code> and the <code>x-api-key</code> headers should be provided when making calls to a sub wallet. For calls to a base wallet, only the <code>x-api-key</code> should be provided.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-a-token">Getting a token<a href="#getting-a-token" class="hash-link" aria-label="Direct link to Getting a token" title="Direct link to Getting a token">​</a></h3><p>A token can be obtained in two ways. The first method is the <code>token</code> parameter from the response of the create wallet (<code>POST /multitenancy/wallet</code>) endpoint. The second option is using the get wallet token endpoint (<code>POST /multitenancy/wallet/{wallet_id}/token</code>) endpoint.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="method-1-register-new-tenant">Method 1: Register new tenant<a href="#method-1-register-new-tenant" class="hash-link" aria-label="Direct link to Method 1: Register new tenant" title="Direct link to Method 1: Register new tenant">​</a></h4><p>This is the method you use to obtain a token when you haven&#x27;t already registered a tenant. In this process you will first register a tenant then an object containing your tenant <code>token</code> as well as other useful information like your <code>wallet id</code> will be returned to you.</p><p>Example</p><div class="language-jsonc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">new_tenant=&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;image_url&quot;: &quot;https://aries.ca/images/sample.png&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;key_management_mode&quot;: &quot;managed&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;label&quot;: &quot;example-label-02&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_dispatch_type&quot;: &quot;default&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_key&quot;: &quot;example-encryption-key-02&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_name&quot;: &quot;example-name-02&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_type&quot;: &quot;askar&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_webhook_urls&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;https://example.com/webhook&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo $new_tenant | curl -X POST &quot;${ACAPY_ADMIN_URL}/multitenancy/wallet&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -H &quot;X-Api-Key: $ACAPY_ADMIN_URL_API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -d @-</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong><code>Response</code></strong></p><div class="language-jsonc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;settings&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;wallet.type&quot;: &quot;askar&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;wallet.name&quot;: &quot;example-name-02&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;wallet.webhook_urls&quot;: [&quot;https://example.com/webhook&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;wallet.dispatch_type&quot;: &quot;default&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;default_label&quot;: &quot;example-label-02&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;image_url&quot;: &quot;https://aries.ca/images/sample.png&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;wallet.id&quot;: &quot;3b64ad0d-f556-4c04-92bc-cd95bfde58cd&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;key_management_mode&quot;: &quot;managed&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;updated_at&quot;: &quot;2022-04-01T15:12:35.474975Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_id&quot;: &quot;3b64ad0d-f556-4c04-92bc-cd95bfde58cd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;created_at&quot;: &quot;2022-04-01T15:12:35.474975Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;token&quot;: &quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ3YWxsZXRfaWQiOiIzYjY0YWQwZC1mNTU2LTRjMDQtOTJiYy1jZDk1YmZkZTU4Y2QifQ.A4eWbSR2M1Z6mbjcSLOlciBuUejehLyytCVyeUlxI0E&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="method-2-get-tenant-token">Method 2: Get tenant token<a href="#method-2-get-tenant-token" class="hash-link" aria-label="Direct link to Method 2: Get tenant token" title="Direct link to Method 2: Get tenant token">​</a></h4><p>This method allows you to retrieve a tenant <code>token</code> for an already registered tenant. To retrieve a token you will need an Admin API key (if your admin is protected with one), <code>wallet_key</code> and the <code>wallet_id</code> of the tenant. Note that calling the get tenant token endpoint will <strong>invalidate</strong> the old token. This is useful if the old token needs to be revoked, but does mean that you can&#x27;t have multiple authentication tokens for the same wallet. Only the last generated token will always be valid.</p><p>Example</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &quot;${ACAPY_ADMIN_URL}/multitenancy/wallet/{wallet_id}/token&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -H &quot;X-Api-Key: $ACAPY_ADMIN_URL_API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -d { &quot;wallet_key&quot;: &quot;example-encryption-key-02&quot; }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong><code>Response</code></strong></p><div class="language-jsonc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;token&quot;: &quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ3YWxsZXRfaWQiOiIzYjY0YWQwZC1mNTU2LTRjMDQtOTJiYy1jZDk1YmZkZTU4Y2QifQ.A4eWbSR2M1Z6mbjcSLOlciBuUejehLyytCVyeUlxI0E&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In unmanaged mode, the get token endpoint also requires the <code>wallet_key</code> parameter to be included in the request body. The wallet key will be included in the JWT so the wallet can be unlocked when making requests to the admin API.</p><div class="language-jsonc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_id&quot;: &quot;wallet_id&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // &quot;wallet_key&quot; in only present in unmanaged mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_key&quot;: &quot;wallet_key&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>In unmanaged mode, sending the <code>wallet_key</code> to unlock the wallet in every request is not “secure” but keeps it simple at the moment. Eventually, the authentication method should be pluggable, and unmanaged mode would just mean that the key to unlock the wallet is not managed by ACA-Py.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jwt-secret">JWT Secret<a href="#jwt-secret" class="hash-link" aria-label="Direct link to JWT Secret" title="Direct link to JWT Secret">​</a></h3><p>For deterministic JWT creation and verification between restarts and multiple instances, the same JWT secret would need to be used. Therefore a <code>--jwt-secret</code> param is added to the ACA-Py agent that will be used for JWT creation and verification.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="swaggerui">SwaggerUI<a href="#swaggerui" class="hash-link" aria-label="Direct link to SwaggerUI" title="Direct link to SwaggerUI">​</a></h3><p>When using the SwaggerUI you can click the 🔒 icon next to each of the endpoints or the <code>Authorize</code> button at the top to set the correct authentication headers. Make sure to also include the <code>Bearer </code> part in the input field. This won&#x27;t be automatically added.</p><p><img loading="lazy" src="/aries-acapy-docs/assets/images/adminApiAuthentication-540e49f5eb2a4f9c0754a8a378d8616e.png" width="1310" height="672" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tenant-management">Tenant Management<a href="#tenant-management" class="hash-link" aria-label="Direct link to Tenant Management" title="Direct link to Tenant Management">​</a></h2><p>After registering a tenant which effectively creates a subwallet, you may need to update the tenant information or delete it. The following describes how to accomplish both goals.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="update-a-tenant">Update a tenant<a href="#update-a-tenant" class="hash-link" aria-label="Direct link to Update a tenant" title="Direct link to Update a tenant">​</a></h3><p>The following properties can be updated: <code>image_url</code>, <code>label</code>, <code>wallet_dispatch_type</code>, and <code>wallet_webhook_urls</code> for tenants of a multitenancy wallet. To update these properties you will <code>PUT</code> a request json containing the properties you wish to update along with the updated values to the <code>/multitenancy/wallet/${TENANT_WALLET_ID}</code> admin endpoint. If the Admin API endoint is protected, you will also include the Admin API Key in the request header.</p><p>Example</p><div class="language-jsonc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">update_tenant=&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;image_url&quot;: &quot;https://aries.ca/images/sample-updated.png&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;label&quot;: &quot;example-label-02-updated&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_webhook_urls&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;https://example.com/webhook/updated&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo $update_tenant | curl  -X PUT &quot;${ACAPY_ADMIN_URL}/multitenancy/wallet/${TENANT_WALLET_ID}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -H &quot;x-api-key: $ACAPY_ADMIN_URL_API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -d @-</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong><code>Response</code></strong></p><div class="language-jsonc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;settings&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;wallet.type&quot;: &quot;askar&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;wallet.name&quot;: &quot;example-name-02&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;wallet.webhook_urls&quot;: [&quot;https://example.com/webhook/updated&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;wallet.dispatch_type&quot;: &quot;default&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;default_label&quot;: &quot;example-label-02-updated&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;image_url&quot;: &quot;https://aries.ca/images/sample-updated.png&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;wallet.id&quot;: &quot;3b64ad0d-f556-4c04-92bc-cd95bfde58cd&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;key_management_mode&quot;: &quot;managed&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;updated_at&quot;: &quot;2022-04-01T16:23:58.642004Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;wallet_id&quot;: &quot;3b64ad0d-f556-4c04-92bc-cd95bfde58cd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;created_at&quot;: &quot;2022-04-01T15:12:35.474975Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>An Admin API Key is all that is ALLOWED to be included in a request header during an update. Inluding the Bearer token header will result in a 404: Unauthorized error</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="remove-a-tenant">Remove a tenant<a href="#remove-a-tenant" class="hash-link" aria-label="Direct link to Remove a tenant" title="Direct link to Remove a tenant">​</a></h2><p>The following information is required to delete a tenant:</p><ul><li>wallet_id</li><li>wallet_key</li><li>{Admin_Api_Key} if admin is protected</li></ul><p>Example</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &quot;${ACAPY_ADMIN_URL}/multitenancy/wallet/{wallet_id}/remove&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -H &quot;x-api-key: $ACAPY_ADMIN_URL_API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -d &#x27;{ &quot;wallet_key&quot;: &quot;example-encryption-key-02&quot; }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong><code>Response</code></strong></p><div class="language-jsonc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hyperledger/aries-acapy-docs/tree/main/docs/docusaurus/docs/docs/Multitenancy.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/aries-acapy-docs/docs/Multiledger"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Multi-ledger in ACA-Py</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/aries-acapy-docs/docs/RedisPlugins"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ACA-Py Redis Plugins</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents--omit-in-toc-" class="table-of-contents__link toc-highlight">Table of Contents  omit in toc </a></li><li><a href="#general-concept" class="table-of-contents__link toc-highlight">General Concept</a><ul><li><a href="#base-and-sub-wallets" class="table-of-contents__link toc-highlight">Base and Sub Wallets</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a></li></ul></li><li><a href="#multi-tenant-admin-api" class="table-of-contents__link toc-highlight">Multi-tenant Admin API</a></li><li><a href="#managed-vs-unmanaged-mode" class="table-of-contents__link toc-highlight">Managed vs Unmanaged Mode</a><ul><li><a href="#managed" class="table-of-contents__link toc-highlight">Managed</a></li><li><a href="#unmanaged" class="table-of-contents__link toc-highlight">Unmanaged</a></li><li><a href="#usage-1" class="table-of-contents__link toc-highlight">Usage</a></li></ul></li><li><a href="#message-routing" class="table-of-contents__link toc-highlight">Message Routing</a><ul><li><a href="#relaying" class="table-of-contents__link toc-highlight">Relaying</a></li><li><a href="#mediation" class="table-of-contents__link toc-highlight">Mediation</a></li></ul></li><li><a href="#webhooks" class="table-of-contents__link toc-highlight">Webhooks</a><ul><li><a href="#webhook-urls" class="table-of-contents__link toc-highlight">Webhook URLs</a></li><li><a href="#identifying-the-wallet" class="table-of-contents__link toc-highlight">Identifying the wallet</a></li></ul></li><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a><ul><li><a href="#getting-a-token" class="table-of-contents__link toc-highlight">Getting a token</a></li><li><a href="#jwt-secret" class="table-of-contents__link toc-highlight">JWT Secret</a></li><li><a href="#swaggerui" class="table-of-contents__link toc-highlight">SwaggerUI</a></li></ul></li><li><a href="#tenant-management" class="table-of-contents__link toc-highlight">Tenant Management</a><ul><li><a href="#update-a-tenant" class="table-of-contents__link toc-highlight">Update a tenant</a></li></ul></li><li><a href="#remove-a-tenant" class="table-of-contents__link toc-highlight">Remove a tenant</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/aries-acapy-docs/">ACA-Py</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/hyperledger/aries-acapy-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/aries-acapy-docs/assets/js/runtime~main.55efbebf.js"></script>
<script src="/aries-acapy-docs/assets/js/main.f211ac65.js"></script>
</body>
</html>