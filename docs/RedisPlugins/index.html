<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-docs/RedisPlugins">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">ACA-Py Redis Plugins | Aries Cloud Agent Python (ACA-Py)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hyperledger.github.io/aries-acapy-docs/docs/RedisPlugins"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ACA-Py Redis Plugins | Aries Cloud Agent Python (ACA-Py)"><meta data-rh="true" name="description" content="It provides a mechansim to persists both inbound and outbound messages using redis, deliver messages and webhooks, and dispatch events."><meta data-rh="true" property="og:description" content="It provides a mechansim to persists both inbound and outbound messages using redis, deliver messages and webhooks, and dispatch events."><link data-rh="true" rel="icon" href="/aries-acapy-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hyperledger.github.io/aries-acapy-docs/docs/RedisPlugins"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/aries-acapy-docs/docs/RedisPlugins" hreflang="en"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/aries-acapy-docs/docs/RedisPlugins" hreflang="x-default"><link rel="stylesheet" href="/aries-acapy-docs/assets/css/styles.4ae0b40d.css">
<link rel="preload" href="/aries-acapy-docs/assets/js/runtime~main.55efbebf.js" as="script">
<link rel="preload" href="/aries-acapy-docs/assets/js/main.f211ac65.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/aries-acapy-docs/"><div class="navbar__logo"><img src="/aries-acapy-docs/img/aries-logo.png" alt="ACA-Py" class="themedImage_ToTc themedImage--light_HNdA"><img src="/aries-acapy-docs/img/aries-logo.png" alt="ACA-Py" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Aries Cloud Agent Python</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/docs/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/code/">Code</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aries-acapy-docs/demo/">Demo</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hyperledger/aries-acapy-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/aries-acapy-docs/admin/CHANGELOG">Admin</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/code/">Code</a><button aria-label="Toggle the collapsible sidebar category &#x27;Code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/demo/">Aries Cloud Agent Python (ACA-Py) Demos</a><button aria-label="Toggle the collapsible sidebar category &#x27;Aries Cloud Agent Python (ACA-Py) Demos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aries-acapy-docs/developer/">Becoming an Indy/Aries Developer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Becoming an Indy/Aries Developer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/aries-acapy-docs/docs/">Hyperledger Aries Cloud Agent - Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hyperledger Aries Cloud Agent - Python&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/AdminAPI">ACA-Py Administration API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/AnoncredsProofValidation">Anoncreds Proof Validation in Aca-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/ContainerImagesAndGithubActions">Container Images and Github Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/DIDMethods">DID methods in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/DIDResolution">DID Resolution in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Databases">Databases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/DevReadMe">Developer&#x27;s Read Me for Hyperledger Aries Cloud Agent - Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Endorser">Transaction Endorser Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/JsonLdCredentials">JSON-LD Credentials in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Logging">Logging docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Mediation">Mediation docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Multicredentials">Multi-Credentials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Multiledger">Multi-ledger in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Multitenancy">Multi-tenancy in ACA-Py</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/aries-acapy-docs/docs/RedisPlugins">ACA-Py Redis Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/SupportedRFCs">Aries AIP and RFCs Supported in Aries Cloud Agent Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/Troubleshooting">Troubleshooting Aries Cloud Agent Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/UsingOpenAPI">Aries Cloud Agent-Python (ACA-Py) - OpenAPI Code Generation Considerations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aries-acapy-docs/docs/deploymentModel">Aries Cloud Agent-Python (ACA-Py) - Deployment Model</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/aries-acapy-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/aries-acapy-docs/docs/"><span itemprop="name">Hyperledger Aries Cloud Agent - Python</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ACA-Py Redis Plugins</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>ACA-Py Redis Plugins</h1><h1><a href="https://github.com/bcgov/aries-acapy-plugin-redis-events/blob/master/README.md" target="_blank" rel="noopener noreferrer">aries-acapy-plugin-redis-events</a> <!-- -->[<code>redis_queue</code>]</h1><p>It provides a mechansim to persists both inbound and outbound messages using redis, deliver messages and webhooks, and dispatch events.</p><p>More details can be found <a href="https://github.com/bcgov/aries-acapy-plugin-redis-events/blob/master/README.md" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="plugin-configuration-yaml"><b>Plugin configuration</b> <!-- -->[<code>yaml</code>]<a href="#plugin-configuration-yaml" class="hash-link" aria-label="Direct link to plugin-configuration-yaml" title="Direct link to plugin-configuration-yaml">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">redis_queue:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  connection: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    connection_url: &quot;redis://default:test1234@172.28.0.103:6379&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ### For Inbound ###</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  inbound:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    acapy_inbound_topic: &quot;acapy_inbound&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    acapy_direct_resp_topic: &quot;acapy_inbound_direct_resp&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ### For Outbound ###</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  outbound:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    acapy_outbound_topic: &quot;acapy_outbound&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mediator_mode: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ### For Event ###</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  event:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event_topic_maps:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ^acapy::webhook::(.*)$: acapy-webhook-$wallet_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ^acapy::record::([^:]*)::([^:]*)$: acapy-record-with-state-$wallet_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ^acapy::record::([^:])?: acapy-record-$wallet_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::basicmessage::received: acapy-basicmessage-received</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::problem_report: acapy-problem_report</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::ping::received: acapy-ping-received</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::ping::response_received: acapy-ping-response_received</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::actionmenu::received: acapy-actionmenu-received</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::actionmenu::get-active-menu: acapy-actionmenu-get-active-menu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::actionmenu::perform-menu-action: acapy-actionmenu-perform-menu-action</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::keylist::updated: acapy-keylist-updated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::revocation-notification::received: acapy-revocation-notification-received</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::revocation-notification-v2::received: acapy-revocation-notification-v2-received</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::forward::received: acapy-forward-received</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event_webhook_topic_maps:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::basicmessage::received: basicmessages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::problem_report: problem_report</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::ping::received: ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::ping::response_received: ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::actionmenu::received: actionmenu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::actionmenu::get-active-menu: get-active-menu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::actionmenu::perform-menu-action: perform-menu-action</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acapy::keylist::updated: keylist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deliver_webhook: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>redis_queue.connection.connection_url</code>: This is required and is expected in <code>redis://{username}:{password}@{host}:{port}</code> format.</li><li><code>redis_queue.inbound.acapy_inbound_topic</code>: This is the topic prefix for the inbound message queues. Recipient key of the message are also included in the complete topic name. The final topic will be in the following format <code>acapy_inbound_{recip_key}</code></li><li><code>redis_queue.inbound.acapy_direct_resp_topic</code>: Queue topic name for direct responses to inbound message.</li><li><code>redis_queue.outbound.acapy_outbound_topic</code>: Queue topic name for the outbound messages. Used by Deliverer service to deliver the payloads to specified endpoint.</li><li><code>redis_queue.outbound.mediator_mode</code>: Set to true, if using Redis as a http bridge when setting up a mediator agent. By default, it is set to false.</li><li><code>event.event_topic_maps</code>: Event topic map</li><li><code>event.event_webhook_topic_maps</code>: Event to webhook topic map</li><li><code>event.deliver_webhook</code>: When set to true, this will deliver webhooks to endpoints specified in <code>admin.webhook_urls</code>. By default, set to true.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage"><b>Usage</b><a href="#usage" class="hash-link" aria-label="Direct link to usage" title="Direct link to usage">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="with-docker"><b>With Docker</b><a href="#with-docker" class="hash-link" aria-label="Direct link to with-docker" title="Direct link to with-docker">​</a></h4><p>Running the plugin with docker is simple. An
example <a href="https://github.com/bcgov/aries-acapy-plugin-redis-events/blob/master/docker/docker-compose.yml" target="_blank" rel="noopener noreferrer">docker-compose.yml</a> file is available which launches both ACA-Py with redis and an accompanying Redis cluster.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker-compose up --build -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>More details can be found <a href="https://github.com/bcgov/aries-acapy-plugin-redis-events/blob/master/docker/README.md" target="_blank" rel="noopener noreferrer">here</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="without-docker"><b>Without Docker</b><a href="#without-docker" class="hash-link" aria-label="Direct link to without-docker" title="Direct link to without-docker">​</a></h4><p>Installation</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip install git+https://github.com/bcgov/aries-acapy-plugin-redis-events.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Startup ACA-Py with <code>redis_queue</code> plugin loaded</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker network create --subnet=172.28.0.0/24 `network_name`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export REDIS_PASSWORD=&quot; ... As specified in redis_cluster.conf ... &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export NETWORK_NAME=&quot;`network_name`&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aca-py start \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --plugin redis_queue.v1_0.events \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --plugin-config plugins-config.yaml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -it redis_queue.v1_0.inbound redis 0 -ot redis_queue.v1_0.outbound</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # ... the remainder of your startup arguments</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Regardless of the options above, you will need to startup <code>deliverer</code> and <code>relay</code>/<code>mediator</code> service as a bridge to receive inbound messages. Consider the following to build your <code>docker-compose</code> file which should also start up your redis cluster:</p><ul><li><p>Relay + Deliverer</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">relay:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image: redis-relay</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    build:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        context: ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dockerfile: redis_relay/Dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - 7001:7001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - 80:80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - REDIS_SERVER_URL=redis://default:test1234@172.28.0.103:6379</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - TOPIC_PREFIX=acapy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - STATUS_ENDPOINT_HOST=0.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - STATUS_ENDPOINT_PORT=7001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - STATUS_ENDPOINT_API_KEY=test_api_key_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - INBOUND_TRANSPORT_CONFIG=[[&quot;http&quot;, &quot;0.0.0.0&quot;, &quot;80&quot;]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - TUNNEL_ENDPOINT=http://relay-tunnel:4040</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_BEFORE_HOSTS=15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOSTS=redis-node-3:6379</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOSTS_TIMEOUT=120</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_SLEEP_INTERVAL=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOST_CONNECT_TIMEOUT=60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depends_on:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - redis-cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - relay-tunnel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    networks:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - acapy_default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deliverer:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image: redis-deliverer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    build:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        context: ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dockerfile: redis_deliverer/Dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - 7002:7002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - REDIS_SERVER_URL=redis://default:test1234@172.28.0.103:6379</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - TOPIC_PREFIX=acapy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - STATUS_ENDPOINT_HOST=0.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - STATUS_ENDPOINT_PORT=7002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - STATUS_ENDPOINT_API_KEY=test_api_key_2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_BEFORE_HOSTS=15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOSTS=redis-node-3:6379</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOSTS_TIMEOUT=120</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_SLEEP_INTERVAL=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOST_CONNECT_TIMEOUT=60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depends_on:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - redis-cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    networks:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - acapy_default</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Mediator + Deliverer</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mediator:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image: acapy-redis-queue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    build:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        context: ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dockerfile: docker/Dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - 3002:3001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depends_on:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - deliverer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    volumes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - ./configs:/home/indy/configs:z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - ./acapy-endpoint.sh:/home/indy/acapy-endpoint.sh:z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_BEFORE_HOSTS=15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOSTS=redis-node-3:6379</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOSTS_TIMEOUT=120</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_SLEEP_INTERVAL=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOST_CONNECT_TIMEOUT=60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - TUNNEL_ENDPOINT=http://mediator-tunnel:4040</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    networks:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - acapy_default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    entrypoint: /bin/sh -c &#x27;/wait &amp;&amp; ./acapy-endpoint.sh poetry run aca-py &quot;$$@&quot;&#x27; --</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command: start --arg-file ./configs/mediator.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deliverer:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image: redis-deliverer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    build:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        context: ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dockerfile: redis_deliverer/Dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depends_on:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - redis-cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - 7002:7002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - REDIS_SERVER_URL=redis://default:test1234@172.28.0.103:6379</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - TOPIC_PREFIX=acapy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - STATUS_ENDPOINT_HOST=0.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - STATUS_ENDPOINT_PORT=7002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - STATUS_ENDPOINT_API_KEY=test_api_key_2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_BEFORE_HOSTS=15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOSTS=redis-node-3:6379</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOSTS_TIMEOUT=120</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_SLEEP_INTERVAL=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - WAIT_HOST_CONNECT_TIMEOUT=60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    networks:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - acapy_default</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><p>Both relay and mediator <a href="https://github.com/bcgov/aries-acapy-plugin-redis-events/tree/master/demo" target="_blank" rel="noopener noreferrer">demos</a> are also available.</p><h1><a href="https://github.com/Indicio-tech/aries-acapy-cache-redis/blob/main/README.md" target="_blank" rel="noopener noreferrer">aries-acapy-cache-redis</a> <!-- -->[<code>redis_cache</code>]</h1><p>ACA-Py uses a modular cache layer to story key-value pairs of data. The purpose
of this plugin is to allow ACA-Py to use Redis as the storage medium for it&#x27;s
caching needs.</p><p>More details can be found <a href="https://github.com/Indicio-tech/aries-acapy-cache-redis/blob/main/README.md" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="plugin-configuration-yaml-1"><b>Plugin configuration</b> <!-- -->[<code>yaml</code>]<a href="#plugin-configuration-yaml-1" class="hash-link" aria-label="Direct link to plugin-configuration-yaml-1" title="Direct link to plugin-configuration-yaml-1">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">redis_cache:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  connection: &quot;redis://default:test1234@172.28.0.103:6379&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  max_connection: 50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  credentials:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    username: &quot;default&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    password: &quot;test1234&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ssl:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cacerts: ./ca.crt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>redis_cache.connection</code>: This is required and is expected in <code>redis://{username}:{password}@{host}:{port}</code> format.</li><li><code>redis_cache.max_connection</code>: Maximum number of redis pool connections. Default: 50</li><li><code>redis_cache.credentials.username</code>: Redis instance username</li><li><code>redis_cache.credentials.password</code>: Redis instance password</li><li><code>redis_cache.ssl.cacerts</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-1"><b>Usage</b><a href="#usage-1" class="hash-link" aria-label="Direct link to usage-1" title="Direct link to usage-1">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="with-docker-1"><b>With Docker</b><a href="#with-docker-1" class="hash-link" aria-label="Direct link to with-docker-1" title="Direct link to with-docker-1">​</a></h4><ul><li><p>Running the plugin with docker is simple and straight-forward. There is an
example <a href="https://github.com/Indicio-tech/aries-acapy-cache-redis/blob/main/docker-compose.yml" target="_blank" rel="noopener noreferrer">docker-compose.yml</a> file in the root of the
project that launches both ACA-Py and an accompanying Redis instance. Running
it is as simple as:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">```sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker-compose up --build -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>To launch ACA-Py with an accompanying redis cluster of 6 nodes <!-- -->[3 primaries and 3 replicas]<!-- -->, please refer to example <a href="https://github.com/Indicio-tech/aries-acapy-cache-redis/blob/main/docker-compose.cluster.yml" target="_blank" rel="noopener noreferrer">docker-compose.cluster.yml</a> and run the following:</p><p>  Note: Cluster requires external docker network with specified subnet</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker network create --subnet=172.28.0.0/24 `network_name`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ export REDIS_PASSWORD=&quot; ... As specified in redis_cluster.conf ... &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ export NETWORK_NAME=&quot;`network_name`&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker-compose -f docker-compose.cluster.yml up --build -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="without-docker-1"><b>Without Docker</b><a href="#without-docker-1" class="hash-link" aria-label="Direct link to without-docker-1" title="Direct link to without-docker-1">​</a></h4><p>Installation</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip install git+https://github.com/Indicio-tech/aries-acapy-cache-redis.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Startup ACA-Py with <code>redis_cache</code> plugin loaded</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aca-py start \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --plugin acapy_cache_redis.v0_1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --plugin-config plugins-config.yaml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # ... the remainder of your startup arguments</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>or</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aca-py start \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --plugin acapy_cache_redis.v0_1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --plugin-config-value &quot;redis_cache.connection=redis://redis-host:6379/0&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --plugin-config-value &quot;redis_cache.max_connections=90&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --plugin-config-value &quot;redis_cache.credentials.username=username&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --plugin-config-value &quot;redis_cache.credentials.password=password&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # ... the remainder of your startup arguments</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rediscluster"><b>RedisCluster</b><a href="#rediscluster" class="hash-link" aria-label="Direct link to rediscluster" title="Direct link to rediscluster">​</a></h2><p>If you startup a redis cluster and an ACA-Py agent loaded with either <code>redis_queue</code> or <code>redis_cache</code> plugin or both, then during the initialization of the plugin, it will bind an instance of <code>redis.asyncio.RedisCluster</code> <!-- -->[onto the <code>root_profile</code>]<!-- -->. Other plugin will have access to this redis client for it&#x27;s functioning. This is done for efficiency and to avoid duplication of resources.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hyperledger/aries-acapy-docs/tree/main/docs/docusaurus/docs/docs/RedisPlugins.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/aries-acapy-docs/docs/Multitenancy"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Multi-tenancy in ACA-Py</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/aries-acapy-docs/docs/SupportedRFCs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Aries AIP and RFCs Supported in Aries Cloud Agent Python</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#plugin-configuration-yaml" class="table-of-contents__link toc-highlight"><b>Plugin configuration</b> yaml</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight"><b>Usage</b></a></li><li><a href="#plugin-configuration-yaml-1" class="table-of-contents__link toc-highlight"><b>Plugin configuration</b> yaml</a></li><li><a href="#usage-1" class="table-of-contents__link toc-highlight"><b>Usage</b></a></li><li><a href="#rediscluster" class="table-of-contents__link toc-highlight"><b>RedisCluster</b></a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/aries-acapy-docs/">ACA-Py</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/hyperledger/aries-acapy-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/aries-acapy-docs/assets/js/runtime~main.55efbebf.js"></script>
<script src="/aries-acapy-docs/assets/js/main.f211ac65.js"></script>
</body>
</html>